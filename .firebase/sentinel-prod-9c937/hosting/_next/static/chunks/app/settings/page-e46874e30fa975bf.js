(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327,662,708],{4871:(e,s,a)=>{Promise.resolve().then(a.bind(a,7641)),Promise.resolve().then(a.bind(a,7167)),Promise.resolve().then(a.bind(a,1713)),Promise.resolve().then(a.bind(a,5041)),Promise.resolve().then(a.bind(a,860)),Promise.resolve().then(a.bind(a,7909))},7711:(e,s,a)=>{"use strict";a.d(s,{default:()=>n.a});var r=a(1956),n=a.n(r)},6046:(e,s,a)=>{"use strict";var r=a(6658);a.o(r,"usePathname")&&a.d(s,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(s,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(s,{useSearchParams:function(){return r.useSearchParams}})},1956:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return n}});let r=a(306)._(a(580));function n(e,s){var a;let n={};"function"==typeof e&&(n.loader=e);let t={...n,...s};return(0,r.default)({...t,modules:null==(a=t.loadableGenerated)?void 0:a.modules})}("function"==typeof s.default||"object"==typeof s.default&&null!==s.default)&&void 0===s.default.__esModule&&(Object.defineProperty(s.default,"__esModule",{value:!0}),Object.assign(s.default,s),e.exports=s.default)},9827:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=a(3719);function n(e){let{reason:s,children:a}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(s);return a}},580:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return d}});let r=a(5155),n=a(2115),t=a(9827),i=a(9214);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let s={...o,...e},a=(0,n.lazy)(()=>s.loader().then(l)),d=s.loading;function c(e){let l=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!s.ssr||!!s.loading,c=o?n.Suspense:n.Fragment,u=s.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(i.PreloadChunks,{moduleIds:s.modules}):null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(t.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...o?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},9214:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"PreloadChunks",{enumerable:!0,get:function(){return l}});let r=a(5155),n=a(7650),t=a(5861),i=a(8284);function l(e){let{moduleIds:s}=e;if("undefined"!=typeof window)return null;let a=t.workAsyncStorage.getStore();if(void 0===a)return null;let l=[];if(a.reactLoadableManifest&&s){let e=a.reactLoadableManifest;for(let a of s){if(!e[a])continue;let s=e[a].files;l.push(...s)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>{let s=a.assetPrefix+"/_next/"+(0,i.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:s,rel:"stylesheet",as:"style"},e):((0,n.preload)(s,{as:"script",fetchPriority:"low"}),null)})})}},7641:(e,s,a)=>{"use strict";a.d(s,{AuthGuard:()=>o});var r=a(5155),n=a(2115),t=a(6046),i=a(5502),l=a(631);function o(e){let{children:s,redirectTo:a="/login",requireAuth:o=!0}=e,{user:d,loading:c}=(0,i.As)(),u=(0,t.useRouter)();return((0,n.useEffect)(()=>{c||(o&&!d?u.push(a):!o&&d&&u.push("/"))},[d,c,o,a,u]),c)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(l.k,{text:"Verificando sesi\xf3n..."})}):o&&!d||!o&&d?null:(0,r.jsx)(r.Fragment,{children:s})}},2167:(e,s,a)=>{"use strict";a.d(s,{M:()=>l});var r=a(5155),n=a(2115),t=a(6046),i=a(5502);function l(){let{signIn:e,loading:s}=(0,i.As)(),a=(0,t.useRouter)(),[l,o]=(0,n.useState)(!1),d=async()=>{try{o(!0),await e(),a.push("/")}catch(e){console.error("Error during login:",e)}finally{o(!1)}},c=l||s;return(0,r.jsxs)("button",{onClick:d,disabled:c,className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-[#E8E8F0] hover:text-[#D4B57A] transition-colors disabled:opacity-50",children:[c?(0,r.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):(0,r.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,r.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,r.jsx)("span",{children:c?"...":"Entrar"})]})}},7167:(e,s,a)=>{"use strict";a.d(s,{Header:()=>m});var r=a(5155),n=a(2115),t=a(8173),i=a.n(t),l=a(5565),o=a(6046),d=a(5502),c=a(2167),u=a(5812);function m(){let{user:e}=(0,d.As)(),s=(0,o.usePathname)(),[a,t]=(0,n.useState)(!1),m=e=>s===e,x=[{href:"/",label:"Mapa",requiresAuth:!1},{href:"/dashboard",label:"Panel",requiresAuth:!0},{href:"/settings",label:"Config",requiresAuth:!0}].filter(s=>!s.requiresAuth||e);return(0,r.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b border-[#4A5060]/30 bg-[#0D0E14]/90 backdrop-blur-md",children:[(0,r.jsxs)("div",{className:"max-w-6xl mx-auto flex h-16 items-center justify-between px-4",children:[(0,r.jsxs)(i(),{href:"/",className:"flex items-center gap-2 group",children:[(0,r.jsx)("div",{className:"relative w-9 h-9 transition-transform group-hover:scale-105",children:(0,r.jsx)(l.default,{src:"/logo.svg",alt:"Sentinel Logo",fill:!0,className:"object-contain drop-shadow-[0_0_10px_rgba(212,181,122,0.3)]"})}),(0,r.jsx)("span",{className:"font-semibold text-[#D4B57A] tracking-wider hidden sm:block",children:"SENTINEL"})]}),(0,r.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:x.map(e=>(0,r.jsx)(i(),{href:e.href,className:"px-3 py-1.5 rounded-md text-sm transition-colors ".concat(m(e.href)?"bg-[#D4B57A]/10 text-[#D4B57A]":"text-[#8890A0] hover:text-[#E8E8F0] hover:bg-[#1A1B22]"),children:e.label},e.href))}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[e?(0,r.jsx)(u.B,{}):(0,r.jsx)(c.M,{}),(0,r.jsx)("button",{onClick:()=>t(!a),className:"md:hidden p-2 text-[#8890A0] hover:text-[#E8E8F0]","aria-label":"Menu",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),a&&(0,r.jsx)("nav",{className:"md:hidden border-t border-[#4A5060]/30 bg-[#0D0E14] p-4 space-y-1",children:x.map(e=>(0,r.jsx)(i(),{href:e.href,onClick:()=>t(!1),className:"block px-3 py-2 rounded-md text-sm ".concat(m(e.href)?"bg-[#D4B57A]/10 text-[#D4B57A]":"text-[#8890A0] hover:text-[#E8E8F0]"),children:e.label},e.href))})]})}},1708:(e,s,a)=>{"use strict";a.r(s),a.d(s,{DisasterMap:()=>x});var r=a(5155),n=a(2115),t=a(7711),i=a(631);function l(e){let{onMyLocation:s,onToggleZones:a,showZones:t=!0,onFilterChange:i}=e,[l,o]=(0,n.useState)(!1),d="w-9 h-9 bg-[#1A1B22] border border-[#4A5060]/50 rounded-lg flex items-center justify-center text-sm hover:bg-[#4A5060]/30 hover:border-[#7088A0] transition-colors";return(0,r.jsxs)("div",{className:"absolute top-3 right-3 z-[1000] space-y-2",children:[(0,r.jsx)("button",{onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>null==s?void 0:s(),e=>console.error("Error getting location:",e))},className:d,title:"Mi ubicaci\xf3n",children:"\uD83D\uDCCD"}),a&&(0,r.jsx)("button",{onClick:a,className:"".concat(d," ").concat(t?"bg-[#D4B57A]/20 border-[#D4B57A]/50 text-[#D4B57A]":""),title:t?"Ocultar zonas":"Mostrar zonas",children:"\uD83C\uDFE0"}),(0,r.jsx)("button",{onClick:()=>o(!l),className:d,title:"Leyenda",children:"ℹ️"}),l&&(0,r.jsxs)("div",{className:"bg-[#1A1B22] border border-[#4A5060]/50 rounded-lg p-3 shadow-xl min-w-[140px]",children:[(0,r.jsx)("h4",{className:"font-medium text-xs text-[#E8E8F0] mb-2",children:"Severidad"}),(0,r.jsxs)("div",{className:"space-y-1.5 text-xs text-[#8890A0]",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#F87171]"}),(0,r.jsx)("span",{children:"Cr\xedtica"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#D4B57A]"}),(0,r.jsx)("span",{children:"Alta"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#FBBF24]"}),(0,r.jsx)("span",{children:"Media"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#4ADE80]"}),(0,r.jsx)("span",{children:"Baja"})]})]})]})]})}a(8413);let o=(0,t.default)(()=>Promise.all([a.e(761),a.e(889)]).then(a.bind(a,1889)).then(e=>e.MapContainer),{loadableGenerated:{webpack:()=>[1889]},ssr:!1,loading:()=>(0,r.jsx)(i.k,{text:"Cargando mapa..."})}),d=(0,t.default)(()=>Promise.all([a.e(761),a.e(889)]).then(a.bind(a,1889)).then(e=>e.TileLayer),{loadableGenerated:{webpack:()=>[1889]},ssr:!1}),c=(0,t.default)(()=>Promise.all([a.e(761),a.e(284)]).then(a.bind(a,5903)).then(e=>({default:e.EventMarker})),{loadableGenerated:{webpack:()=>[5903]},ssr:!1}),u=(0,t.default)(()=>a.e(160).then(a.bind(a,4160)).then(e=>({default:e.ZoneCircle})),{loadableGenerated:{webpack:()=>[4160]},ssr:!1}),m=(0,t.default)(()=>a.e(88).then(a.bind(a,8088)).then(e=>({default:e.MapController})),{loadableGenerated:{webpack:()=>[8088]},ssr:!1});function x(e){let{events:s,selectedEvent:a,userZones:t=[],center:x=[-33.45,-70.65],zoom:h=5,height:f="400px",showControls:p=!0,showZones:j=!0,onEventClick:b,onZoneClick:v,onMyLocation:g,onToggleZones:N,onFilterChange:y,className:E=""}=e,[C,w]=(0,n.useState)(!1),[k,A]=(0,n.useState)(j);return((0,n.useEffect)(()=>{w(!0)},[]),C)?(0,r.jsxs)("div",{className:"w-full h-full ".concat(E),children:[(0,r.jsxs)(o,{center:x,zoom:h,style:{height:"100%",width:"100%"},zoomControl:!1,children:[(0,r.jsx)(m,{selectedEvent:a}),(0,r.jsx)(d,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'\xa9 <a href="https://carto.com/">CARTO</a>'}),k&&t.map(e=>(0,r.jsx)(u,{zone:e,onClick:v},"zone-".concat(e.id))),s.map(e=>(0,r.jsx)(c,{event:e,onClick:b},"event-".concat(e.id)))]}),p&&(0,r.jsx)(l,{onMyLocation:g,onToggleZones:()=>{A(!k),null==N||N()},showZones:k,onFilterChange:y})]}):(0,r.jsx)("div",{className:"bg-surface border border-border rounded-lg flex items-center justify-center ".concat(E),style:{height:f},children:(0,r.jsx)(i.k,{text:"Cargando mapa..."})})}},5633:(e,s,a)=>{"use strict";a.d(s,{E:()=>t});var r=a(5155),n=a(1684);function t(e){let{className:s,variant:a="plasma",...t}=e;return(0,r.jsx)("span",{className:(0,n.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border",{plasma:"bg-[#D4B57A]/15 text-[#D4B57A] border-[#D4B57A]/30",mist:"bg-[#7088A0]/15 text-[#7088A0] border-[#7088A0]/30",success:"bg-[#4ADE80]/15 text-[#4ADE80] border-[#4ADE80]/30",warning:"bg-[#FBBF24]/15 text-[#FBBF24] border-[#FBBF24]/30",danger:"bg-[#F87171]/15 text-[#F87171] border-[#F87171]/30",secondary:"bg-[#4A5060]/30 text-[#8890A0] border-[#4A5060]/40"}[a],s),...t})}},631:(e,s,a)=>{"use strict";a.d(s,{k:()=>t});var r=a(5155);function n(e){let{size:s="md",className:a=""}=e;return(0,r.jsx)("div",{className:"".concat({sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-8 h-8 border-3"}[s]," border-[#D4B57A] border-t-transparent rounded-full animate-spin ").concat(a)})}function t(e){let{text:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center gap-3 py-8",children:[(0,r.jsx)(n,{size:"lg"}),s&&(0,r.jsx)("p",{className:"text-[#8890A0] text-sm",children:s})]})}},1713:(e,s,a)=>{"use strict";a.d(s,{AccountSettings:()=>o});var r=a(5155),n=a(5502),t=a(4450),i=a(6816),l=a(2115);function o(){let e;let{user:s,logout:a}=(0,n.As)(),[o,d]=(0,l.useState)(!1);if(!s)return null;let c=async()=>{confirm("\xbfEst\xe1s seguro de que quieres eliminar tu cuenta? Esta acci\xf3n no se puede deshacer.")&&(d(!0),alert("Funcionalidad de eliminar cuenta pendiente de implementaci\xf3n segura"),d(!1))};return(0,r.jsxs)(t.Zp,{children:[(0,r.jsxs)(t.aR,{children:[(0,r.jsx)(t.ZB,{className:"flex items-center gap-2",children:"\uD83D\uDC64 Cuenta"}),(0,r.jsx)(t.BT,{children:"Informaci\xf3n de tu cuenta de usuario"})]}),(0,r.jsxs)(t.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Email"}),(0,r.jsx)("div",{className:"font-medium",children:s.email})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Nombre"}),(0,r.jsx)("div",{className:"font-medium",children:s.displayName||"No especificado"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Miembro desde"}),(0,r.jsx)("div",{className:"font-medium",children:s.createdAt?(e=s.createdAt,new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(new Date(e))):"Desconocido"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID de Usuario"}),(0,r.jsx)("div",{className:"font-mono text-xs text-muted-foreground",children:s.uid})]})]}),(0,r.jsx)("div",{className:"border-t pt-4 space-y-2",children:(0,r.jsx)(i.$,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",onClick:c,disabled:o,children:"Eliminar Cuenta"})})]})]})}},5041:(e,s,a)=>{"use strict";a.d(s,{AlertPreferences:()=>u});var r=a(5155),n=a(2115),t=a(5502),i=a(2936),l=a(4450),o=a(6816),d=a(5633),c=a(631);function u(e){let{className:s=""}=e,{user:a}=(0,t.As)(),[u,m]=(0,n.useState)({}),[x,h]=(0,n.useState)(!0),[f,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{if(null==a?void 0:a.uid)try{h(!0);let e={};i.u6.forEach(s=>{e[s]={disasterType:s,minSeverity:1,pushEnabled:!0,emailEnabled:!1}}),m(e)}catch(e){console.error("Error loading preferences:",e)}finally{h(!1)}})()},[null==a?void 0:a.uid]);let j=async(e,s,a)=>{try{p(e),m(r=>({...r,[e]:{...r[e],[s]:a}})),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Error updating preference:",e)}finally{p(null)}};return a?x?(0,r.jsx)(l.Zp,{className:s,children:(0,r.jsx)(l.Wu,{className:"text-center py-8",children:(0,r.jsx)(c.k,{text:"Cargando preferencias..."})})}):(0,r.jsxs)(l.Zp,{className:s,children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(l.ZB,{children:"Preferencias de Alertas"}),(0,r.jsx)(l.BT,{children:"Configura qu\xe9 tipos de desastres quieres monitorear y c\xf3mo recibir las alertas"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{i.u6.forEach(e=>{var s;(null===(s=u[e])||void 0===s?void 0:s.pushEnabled)||j(e,"pushEnabled",!0)})},children:"Activar Todas"}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>{i.u6.forEach(e=>{var s;(null===(s=u[e])||void 0===s?void 0:s.pushEnabled)&&j(e,"pushEnabled",!1)})},children:"Desactivar Todas"})]})]})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"space-y-4",children:i.u6.map(e=>{let s=i.gw[e],a=u[e],n=f===e;return a?(0,r.jsxs)("div",{className:"border border-border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,r.jsx)("span",{className:"text-2xl",children:s.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold",children:s.nameEs}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:s.name})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Severidad m\xedn."}),(0,r.jsx)("select",{value:a.minSeverity,onChange:s=>j(e,"minSeverity",parseInt(s.target.value)),disabled:n,className:"text-sm border border-border rounded px-2 py-1 disabled:opacity-50",children:[1,2,3,4].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Push"}),(0,r.jsx)("input",{type:"checkbox",checked:a.pushEnabled,onChange:s=>j(e,"pushEnabled",!a.pushEnabled),disabled:n,className:"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),(0,r.jsx)("input",{type:"checkbox",checked:a.emailEnabled,onChange:s=>j(e,"emailEnabled",!a.emailEnabled),disabled:n,className:"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"})]}),(0,r.jsx)("div",{className:"text-right",children:n?(0,r.jsx)(c.k,{}):(0,r.jsx)(d.E,{variant:a.pushEnabled?"success":"secondary",children:a.pushEnabled?"Activo":"Inactivo"})})]})]}),(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Niveles de severidad:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(s.severityLabels).map(e=>{let[s,n]=e;return(0,r.jsx)(d.E,{variant:parseInt(s)>=a.minSeverity?"plasma":"secondary",className:"text-xs",children:n},s)})})]})]},e):null})}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"\uD83D\uDCA1 Consejos"}),(0,r.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Severidad m\xednima:"})," Solo recibir\xe1s alertas para eventos de esta severidad o superior"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Notificaciones push:"})," Alertas en tiempo real en tu dispositivo"]}),(0,r.jsxs)("li",{children:["• ",(0,r.jsx)("strong",{children:"Notificaciones email:"})," Res\xfamenes diarios por correo electr\xf3nico"]}),(0,r.jsx)("li",{children:"• Puedes ajustar estas preferencias en cualquier momento"})]})]})]})]}):(0,r.jsx)(l.Zp,{className:s,children:(0,r.jsx)(l.Wu,{className:"text-center py-8",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Debes iniciar sesi\xf3n para gestionar tus preferencias de alertas"})})})}},860:(e,s,a)=>{"use strict";a.d(s,{GeneralSettings:()=>c});var r=a(5155),n=a(2115),t=a(5502),i=a(4450),l=a(6816),o=a(7058),d=a(3090);function c(){let{user:e}=(0,t.As)(),[s,a]=(0,n.useState)(!1),c=async(s,r)=>{if(e){a(!0);try{let a=(0,o.doc)(d.db,"users",e.uid);await (0,o.updateDoc)(a,{["settings.".concat(s)]:r})}catch(e){console.error("Error updating setting:",e)}finally{a(!1)}}},u=(null==e?void 0:e.settings)||{language:"es",darkMode:!0,soundEnabled:!0};return(0,r.jsxs)(i.Zp,{children:[(0,r.jsxs)(i.aR,{children:[(0,r.jsx)(i.ZB,{className:"flex items-center gap-2",children:"⚙️ Configuraci\xf3n General"}),(0,r.jsx)(i.BT,{children:"Ajustes generales de la aplicaci\xf3n"})]}),(0,r.jsx)(i.Wu,{className:"space-y-4",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"Idioma"}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(l.$,{variant:"es"===u.language?void 0:"outline",size:"sm",onClick:()=>c("language","es"),disabled:s,children:"Es"}),(0,r.jsx)(l.$,{variant:"en"===u.language?void 0:"outline",size:"sm",onClick:()=>c("language","en"),disabled:s,children:"En"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"Sonido"}),(0,r.jsx)(l.$,{variant:u.soundEnabled?void 0:"outline",size:"sm",onClick:()=>c("soundEnabled",!u.soundEnabled),disabled:s,children:u.soundEnabled?"Activado":"Desactivado"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"Modo Oscuro"}),(0,r.jsx)(l.$,{variant:u.darkMode?void 0:"outline",size:"sm",onClick:()=>c("darkMode",!u.darkMode),disabled:s,children:u.darkMode?"On":"Off"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"font-medium",children:"Habilitar Notificaciones"}),(0,r.jsx)(l.$,{variant:u.notificationsEnabled?void 0:"outline",size:"sm",onClick:()=>c("notificationsEnabled",!u.notificationsEnabled),disabled:s,children:u.notificationsEnabled?"Activado":"Desactivado"})]}),(0,r.jsxs)("div",{className:"border-t border-[#4A5060]/20 pt-4 mt-4",children:[(0,r.jsx)("h4",{className:"text-sm font-bold text-[#D4B57A] uppercase tracking-wider mb-4",children:"Preferencias de Notificaci\xf3n"}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("span",{className:"font-medium",children:"Pa\xeds de Monitoreo"}),(0,r.jsx)("select",{value:u.country||"Global",onChange:e=>c("country",e.target.value),className:"bg-[#0D0E14] border border-[#4A5060]/30 rounded-lg px-3 py-1.5 text-sm text-[#E8E8F0]",disabled:s,children:["Argentina","Bolivia","Brasil","Chile","Colombia","Ecuador","Espa\xf1a","Estados Unidos","M\xe9xico","Per\xfa","Uruguay","Venezuela","Global"].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"font-medium",children:"Umbral M\xedn. Sismos"}),(0,r.jsxs)("span",{className:"text-[#D4B57A] font-bold",children:["M",(u.minMagnitude||4.5).toFixed(1)]})]}),(0,r.jsx)("input",{type:"range",min:"3",max:"8.5",step:"0.1",value:u.minMagnitude||4.5,onChange:e=>c("minMagnitude",parseFloat(e.target.value)),className:"w-full h-2 bg-[#4A5060]/30 rounded-lg appearance-none cursor-pointer accent-[#D4B57A]",disabled:s})]})]})]})})]})}},7909:(e,s,a)=>{"use strict";a.d(s,{ZoneManager:()=>v});var r=a(5155),n=a(2115),t=a(5502),i=a(4232),l=a(1708),o=a(6816),d=a(1684);let c=(0,n.forwardRef)((e,s)=>{let{isOpen:a,onClose:t,children:i,className:l}=e;return((0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return a&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[a,t]),a)?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:t}),(0,r.jsx)("div",{ref:s,className:(0,d.cn)("relative z-10 max-h-[90vh] max-w-[90vw] overflow-auto rounded-lg bg-surface p-6 shadow-xl",l),onClick:e=>e.stopPropagation(),children:i})]}):null});c.displayName="Modal";let u=(0,n.forwardRef)((e,s)=>{let{children:a,className:n}=e;return(0,r.jsx)("div",{ref:s,className:(0,d.cn)("mb-4 flex items-center justify-between",n),children:a})});u.displayName="ModalHeader";let m=(0,n.forwardRef)((e,s)=>{let{children:a,className:n}=e;return(0,r.jsx)("h2",{ref:s,className:(0,d.cn)("text-lg font-semibold text-foreground",n),children:a})});m.displayName="ModalTitle";let x=(0,n.forwardRef)((e,s)=>{let{onClick:a,className:n}=e;return(0,r.jsx)("button",{ref:s,onClick:a,className:(0,d.cn)("rounded-full p-1 text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-primary-500",n),"aria-label":"Cerrar modal",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})});x.displayName="ModalCloseButton";var h=a(4450),f=a(631);function p(e){let{initialData:s,onSubmit:a,onCancel:t,title:i}=e,[d,c]=(0,n.useState)({name:(null==s?void 0:s.name)||"",radiusKm:(null==s?void 0:s.radiusKm)||50,location:(null==s?void 0:s.location)||{lat:-33.45,lng:-70.65}}),[p,j]=(0,n.useState)(!1),[b,v]=(0,n.useState)(!1),[g,N]=(0,n.useState)(null),y=(e,s)=>{let a=parseFloat(e),r=parseFloat(s);isNaN(a)||isNaN(r)||c(e=>({...e,location:{lat:a,lng:r}}))},E=async e=>{if(e.preventDefault(),!d.name.trim()){alert("Por favor ingresa un nombre para la zona");return}if(d.radiusKm<1||d.radiusKm>500){alert("El radio debe estar entre 1 y 500 km");return}try{var r;j(!0),await a({name:d.name.trim(),location:d.location,geohash:"",radiusKm:d.radiusKm,isActive:null===(r=null==s?void 0:s.isActive)||void 0===r||r})}catch(e){console.error("Error submitting form:",e)}finally{j(!1)}};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{children:i}),(0,r.jsx)(x,{onClick:t})]}),(0,r.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,r.jsxs)(h.Zp,{children:[(0,r.jsxs)(h.aR,{children:[(0,r.jsx)(h.ZB,{className:"text-lg",children:"Informaci\xf3n B\xe1sica"}),(0,r.jsx)(h.BT,{children:"Configura el nombre y radio de la zona"})]}),(0,r.jsxs)(h.Wu,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre de la zona *"}),(0,r.jsx)("input",{type:"text",value:d.name,onChange:e=>c(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ej: Mi casa, Trabajo, Ciudad...",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Radio de alerta (km) *"}),(0,r.jsx)("input",{type:"number",min:"1",max:"500",value:d.radiusKm,onChange:e=>c(s=>({...s,radiusKm:parseInt(e.target.value)||50})),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Recibir\xe1s alertas cuando eventos ocurran dentro de este radio"})]})]})]}),(0,r.jsxs)(h.Zp,{children:[(0,r.jsx)(h.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(h.ZB,{className:"text-lg",children:"Ubicaci\xf3n"}),(0,r.jsx)(h.BT,{children:"Selecciona el centro de la zona en el mapa"})]}),(0,r.jsx)(o.$,{type:"button",variant:"outline",size:"sm",onClick:()=>{if(v(!0),N(null),!navigator.geolocation){N("La geolocalizaci\xf3n no est\xe1 soportada por este navegador"),v(!1);return}navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:a}=e.coords;c(e=>({...e,location:{lat:s,lng:a}})),v(!1)},e=>{console.error("Error getting location:",e);let s="Error al obtener la ubicaci\xf3n";switch(e.code){case e.PERMISSION_DENIED:s="Permiso de ubicaci\xf3n denegado";break;case e.POSITION_UNAVAILABLE:s="Ubicaci\xf3n no disponible";break;case e.TIMEOUT:s="Tiempo de espera agotado"}N(s),v(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},disabled:b,children:b?(0,r.jsx)(f.k,{}):"\uD83D\uDCCD Mi ubicaci\xf3n"})]})}),(0,r.jsx)(h.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[g&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:g}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Latitud"}),(0,r.jsx)("input",{type:"number",step:"0.000001",value:d.location.lat,onChange:e=>y(e.target.value,d.location.lng.toString()),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"-33.456789"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Longitud"}),(0,r.jsx)("input",{type:"number",step:"0.000001",value:d.location.lng,onChange:e=>y(d.location.lat.toString(),e.target.value),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"-70.678901"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["\uD83D\uDCCD Ubicaci\xf3n actual: ",d.location.lat.toFixed(6),", ",d.location.lng.toFixed(6)]}),(0,r.jsx)("div",{className:"h-64 rounded-lg overflow-hidden border",children:(0,r.jsx)(l.DisasterMap,{events:[],center:[d.location.lat,d.location.lng],zoom:12,onEventClick:()=>{},onZoneClick:()=>{}})}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:'\uD83D\uDCA1 Puedes ajustar las coordenadas manualmente o usar "Mi ubicaci\xf3n" para centrar el mapa en tu posici\xf3n actual'})]})})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,r.jsx)(o.$,{type:"button",variant:"outline",onClick:t,className:"flex-1",children:"Cancelar"}),(0,r.jsxs)(o.$,{type:"submit",disabled:p,className:"flex-1",children:[p?(0,r.jsx)(f.k,{}):null,s?"Actualizar Zona":"Crear Zona"]})]})]})]})}var j=a(5633);function b(e){let s,{zone:a,onEdit:n,onDelete:t,onToggle:i,className:l=""}=e;return(0,r.jsx)(h.Zp,{className:"".concat(a.isActive?"border-primary-500 bg-primary-50/50":""," ").concat(l),children:(0,r.jsx)(h.Wu,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:a.name}),(0,r.jsx)(j.E,{variant:a.isActive?"success":"secondary",children:a.isActive?"Activa":"Inactiva"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDCCF Radio:"})," ",a.radiusKm," km"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDCC5 Creada:"})," ",(s=a.createdAt,new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"short",year:"numeric"}).format(s))]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDCCD Ubicaci\xf3n:"})," ",a.location.lat.toFixed(4),", ",a.location.lng.toFixed(4)]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)(o.$,{size:"sm",variant:a.isActive?"plasma":"outline",onClick:i,className:"min-w-[80px]",children:a.isActive?"Desactivar":"Activar"}),(0,r.jsx)(o.$,{size:"sm",variant:"outline",onClick:n,children:"✏️ Editar"}),(0,r.jsx)(o.$,{size:"sm",variant:"outline",onClick:t,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"\uD83D\uDDD1️ Eliminar"})]})]})})})}function v(e){let{className:s=""}=e,{user:a}=(0,t.As)(),{zones:l,loading:d,error:u,createZone:m,updateZone:x,removeZone:j,toggleZone:v}=(0,i.o)(),[g,N]=(0,n.useState)(!1),[y,E]=(0,n.useState)(null),C=async e=>{try{await m(e),N(!1)}catch(e){console.error("Error creating zone:",e)}},w=async e=>{if(y)try{await x(y.id,e),E(null)}catch(e){console.error("Error updating zone:",e)}},k=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres eliminar esta zona?"))try{await j(e)}catch(e){console.error("Error deleting zone:",e)}};return a?(0,r.jsxs)("div",{className:s,children:[(0,r.jsxs)(h.Zp,{children:[(0,r.jsx)(h.aR,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(h.ZB,{children:"Mis Zonas de Monitoreo"}),(0,r.jsx)(h.BT,{children:"Configura las \xe1reas geogr\xe1ficas donde quieres recibir alertas"})]}),(0,r.jsx)(o.$,{onClick:()=>N(!0),children:"➕ Agregar Zona"})]})}),(0,r.jsx)(h.Wu,{children:d?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)(f.k,{text:"Cargando zonas..."})}):u?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-red-500 mb-2",children:"⚠️ Error al cargar zonas"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:u}),(0,r.jsx)(o.$,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>window.location.reload(),children:"Reintentar"})]}):0===l.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDDFA️"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No tienes zonas configuradas"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:"Crea tu primera zona para empezar a recibir alertas personalizadas"}),(0,r.jsx)(o.$,{onClick:()=>N(!0),children:"Crear Primera Zona"})]}):(0,r.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,r.jsx)(b,{zone:e,onEdit:()=>E(e),onDelete:()=>k(e.id),onToggle:()=>v(e.id,!e.isActive)},e.id))})})]}),(0,r.jsx)(c,{isOpen:g,onClose:()=>N(!1),children:(0,r.jsx)(p,{onSubmit:C,onCancel:()=>N(!1),title:"Crear Nueva Zona"})}),(0,r.jsx)(c,{isOpen:!!y,onClose:()=>E(null),children:y&&(0,r.jsx)(p,{initialData:y,onSubmit:w,onCancel:()=>E(null),title:"Editar Zona"})})]}):(0,r.jsx)(h.Zp,{className:s,children:(0,r.jsx)(h.Wu,{className:"text-center py-8",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Debes iniciar sesi\xf3n para gestionar tus zonas"})})})}},2936:(e,s,a)=>{"use strict";a.d(s,{$k:()=>r,gw:()=>n,u6:()=>t});let r={abyss:"#0D0E14",shadow:"#1A1B22",plasma:"#D4B57A",mist:"#7088A0",sakura:"#A07888",smoke:"#8890A0",muted:"#E8E8F0"},n={earthquake:{id:"earthquake",name:"Earthquake",nameEs:"Sismo",icon:"\uD83C\uDF0D",color:r.plasma,severityLabels:{1:"Menor (< 4.0)",2:"Leve (4.0 - 5.0)",3:"Moderado (5.0 - 6.0)",4:"Severo (> 6.0)"}},tsunami:{id:"tsunami",name:"Tsunami",nameEs:"Tsunami",icon:"\uD83C\uDF0A",color:r.mist,severityLabels:{1:"Vigilancia",2:"Aviso",3:"Alerta",4:"Alerta M\xe1xima"}},volcano:{id:"volcano",name:"Volcanic Eruption",nameEs:"Erupci\xf3n Volc\xe1nica",icon:"\uD83C\uDF0B",color:r.sakura,severityLabels:{1:"Verde",2:"Amarillo",3:"Naranja",4:"Rojo"}},wildfire:{id:"wildfire",name:"Wildfire",nameEs:"Incendio Forestal",icon:"\uD83D\uDD25",color:r.plasma,severityLabels:{1:"Controlado",2:"Activo",3:"Fuera de Control",4:"Catastr\xf3fico"}},flood:{id:"flood",name:"Flood",nameEs:"Inundaci\xf3n",icon:"\uD83D\uDCA7",color:r.mist,severityLabels:{1:"Menor",2:"Moderada",3:"Severa",4:"Catastr\xf3fica"}},storm:{id:"storm",name:"Storm/Hurricane",nameEs:"Tormenta/Hurac\xe1n",icon:"\uD83C\uDF00",color:r.smoke,severityLabels:{1:"Tormenta Tropical",2:"Categor\xeda 1-2",3:"Categor\xeda 3-4",4:"Categor\xeda 5"}},landslide:{id:"landslide",name:"Landslide",nameEs:"Aluvi\xf3n/Deslizamiento",icon:"⛰️",color:r.smoke,severityLabels:{1:"Menor",2:"Moderado",3:"Severo",4:"Catastr\xf3fico"}}},t=["earthquake","tsunami","volcano","wildfire","flood","storm","landslide"]},4232:(e,s,a)=>{"use strict";a.d(s,{o:()=>i});var r=a(2115),n=a(5502),t=a(3401);function i(){let{user:e}=(0,n.As)(),[s,a]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),c=null==e?void 0:e.uid,u=(0,r.useCallback)(async()=>{if(!c){a([]);return}try{l(!0),d(null);let e=await (0,t.lT)(c);a(e)}catch(e){console.error("Error loading zones:",e),d("Error al cargar zonas")}finally{l(!1)}},[c]);(0,r.useEffect)(()=>{u()},[u]);let m=(0,r.useCallback)(async e=>{if(!c)throw Error("Usuario no autenticado");try{d(null);let s=await (0,t.HT)(c,e);return await u(),s}catch(e){throw console.error("Error creating zone:",e),d("Error al crear zona"),e}},[c,u]),x=(0,r.useCallback)(async(e,s)=>{if(!c)throw Error("Usuario no autenticado");try{d(null),await (0,t.PH)(c,e,s),await u()}catch(e){throw console.error("Error updating zone:",e),d("Error al actualizar zona"),e}},[c,u]),h=(0,r.useCallback)(async e=>{if(!c)throw Error("Usuario no autenticado");try{d(null),await (0,t.ZV)(c,e),await u()}catch(e){throw console.error("Error deleting zone:",e),d("Error al eliminar zona"),e}},[c,u]),f=(0,r.useCallback)(async(e,s)=>x(e,{isActive:s}),[x]),p=s.filter(e=>e.isActive),j=(0,r.useCallback)(function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return p.some(r=>(function(e,s,a,r){let n=(e-a)*Math.PI/180,t=(s-r)*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(a*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin(t/2)*Math.sin(t/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371})(e,s,r.location.lat,r.location.lng)<=r.radiusKm+a)},[p]);return{zones:s,activeZones:p,loading:i,error:o,createZone:m,updateZone:x,removeZone:h,toggleZone:f,refresh:u,isLocationInUserZones:j}}},8413:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[484,135,563,445,181,465,58,441,517,358],()=>s(4871)),_N_E=e.O()}]);