module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},46842,a=>{"use strict";var b=a.i(72131),c=a.i(65488),d=a.i(83700);function e(){let{user:a}=(0,c.useAuth)(),[e,f]=(0,b.useState)([]),[g,h]=(0,b.useState)(!1),[i,j]=(0,b.useState)(null),k=a?.uid,l=(0,b.useCallback)(async()=>{if(!k)return void f([]);try{h(!0),j(null);let a=await (0,d.getUserZones)(k);f(a)}catch(a){console.error("Error loading zones:",a),j("Error al cargar zonas")}finally{h(!1)}},[k]);(0,b.useEffect)(()=>{l()},[l]);let m=(0,b.useCallback)(async a=>{if(!k)throw Error("Usuario no autenticado");try{j(null);let b=await (0,d.addUserZone)(k,a);return await l(),b}catch(a){throw console.error("Error creating zone:",a),j("Error al crear zona"),a}},[k,l]),n=(0,b.useCallback)(async(a,b)=>{if(!k)throw Error("Usuario no autenticado");try{j(null),await (0,d.updateUserZone)(k,a,b),await l()}catch(a){throw console.error("Error updating zone:",a),j("Error al actualizar zona"),a}},[k,l]),o=(0,b.useCallback)(async a=>{if(!k)throw Error("Usuario no autenticado");try{j(null),await (0,d.deleteUserZone)(k,a),await l()}catch(a){throw console.error("Error deleting zone:",a),j("Error al eliminar zona"),a}},[k,l]),p=(0,b.useCallback)(async(a,b)=>n(a,{isActive:b}),[n]),q=e.filter(a=>a.isActive),r=(0,b.useCallback)((a,b,c=0)=>q.some(d=>{var e,f,g,h;let i,j,k;return e=a,f=b,g=d.location.lat,h=d.location.lng,2*Math.atan2(Math.sqrt(k=Math.sin((i=(e-g)*Math.PI/180)/2)*Math.sin(i/2)+Math.cos(g*Math.PI/180)*Math.cos(e*Math.PI/180)*Math.sin((j=(f-h)*Math.PI/180)/2)*Math.sin(j/2)),Math.sqrt(1-k))*6371<=d.radiusKm+c}),[q]);return{zones:e,activeZones:q,loading:g,error:i,createZone:m,updateZone:n,removeZone:o,toggleZone:p,refresh:l,isLocationInUserZones:r}}a.s(["useUserZones",()=>e])},17842,a=>{"use strict";var b=a.i(72131),c=a.i(83700);function d(a={disasterTypes:[],minSeverity:1}){let[e,f]=(0,b.useState)([]),[g,h]=(0,b.useState)(!0),[i,j]=(0,b.useState)(null);return(0,b.useEffect)(()=>(h(!0),j(null),(0,c.getEvents)(a).then(f).catch(a=>{console.error("Error loading events:",a),j("Error al cargar eventos")}).finally(()=>h(!1)),(0,c.subscribeToEvents)(a=>{f(a),j(null)},a)),[a.disasterTypes?.join(","),a.minSeverity,a.dateRange?.start.getTime(),a.dateRange?.end.getTime(),a.nearLocation?.lat,a.nearLocation?.lng,a.nearLocation?.radiusKm]),{events:e,loading:g,error:i,refresh:(0,b.useCallback)(async()=>{try{h(!0),j(null);let b=await (0,c.getEvents)(a);f(b)}catch(a){console.error("Error refreshing events:",a),j("Error al actualizar eventos")}finally{h(!1)}},[a])}}function e(a){let[d,e]=(0,b.useState)(null),[f,g]=(0,b.useState)(!1),[h,i]=(0,b.useState)(null);return(0,b.useEffect)(()=>{a?(async()=>{try{g(!0),i(null);let b=await (0,c.getEventById)(a);e(b)}catch(a){console.error("Error loading event:",a),i("Error al cargar evento")}finally{g(!1)}})():e(null)},[a]),{event:d,loading:f,error:h,refetch:()=>{a&&(async()=>{try{g(!0),i(null);let b=await (0,c.getEventById)(a);e(b)}catch(a){console.error("Error refetching event:",a),i("Error al recargar evento")}finally{g(!1)}})()}}}a.s(["useEvent",()=>e,"useEvents",()=>d])},40777,a=>{"use strict";var b=a.i(87924),c=a.i(43218),d=a.i(60305),e=a.i(17842),f=a.i(46842),g=a.i(65488),h=a.i(62067),i=a.i(55486),j=a.i(50944),k=a.i(72131);function l(){(0,k.useEffect)(()=>{console.log("Environment check:",{apiKey:"AIzaSyArZVsBh-9ANzntpw0hTi9M3yEJLNNOk3E",projectId:"sentinel-89591",hasApiKey:!0,hasProjectId:!0})},[]);let{user:a}=(0,g.useAuth)(),{events:l,loading:m,error:n}=(0,e.useEvents)(),{zones:o}=(0,f.useUserZones)(),p=(0,j.useRouter)();return(0,k.useEffect)(()=>{n&&console.error("Events error:",n),console.log("Events loaded:",l.length,"Loading:",m)},[l,m,n]),(0,b.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background to-primary-50/30",children:[(0,b.jsx)(c.Header,{}),(0,b.jsxs)("main",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary-600 via-primary-700 to-primary-800 text-white",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,b.jsx)("div",{className:"relative container mx-auto px-6 py-20 text-center",children:(0,b.jsxs)("div",{className:"animate-fade-in",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-sm rounded-full mb-8",children:(0,b.jsx)("span",{className:"text-4xl",children:"ðŸ›°ï¸"})}),(0,b.jsx)("h1",{className:"text-5xl md:text-7xl font-display font-bold mb-6 bg-gradient-to-r from-white to-primary-100 bg-clip-text text-transparent",children:"Sentinel"}),(0,b.jsxs)("p",{className:"text-xl md:text-2xl text-primary-100 mb-8 max-w-3xl mx-auto font-light",children:["Monitoreo global de desastres naturales en tiempo real.",(0,b.jsx)("span",{className:"font-semibold text-white",children:" Protege lo que importa."})]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-primary-200",children:[(0,b.jsx)("div",{className:"w-2 h-2 bg-success rounded-full animate-pulse"}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:[l.length," eventos activos"]})]}),(0,b.jsx)("div",{className:"hidden sm:block w-px h-6 bg-primary-400"}),(0,b.jsx)("div",{className:"flex items-center gap-2 text-primary-200",children:(0,b.jsx)("span",{className:"text-sm",children:"ActualizaciÃ³n cada 15-30 minutos"})})]})]})}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-20 bg-gradient-to-t from-background to-transparent"})]}),(0,b.jsxs)("div",{className:"container mx-auto px-6 pb-16 -mt-10 relative z-10",children:[(0,b.jsxs)(h.Card,{className:"shadow-large bg-white/95 backdrop-blur-sm border-0",children:[(0,b.jsxs)(h.CardHeader,{className:"text-center pb-6",children:[(0,b.jsx)(h.CardTitle,{className:"flex flex-col sm:flex-row sm:items-center justify-center gap-3 text-2xl",children:(0,b.jsxs)("span",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-primary-100 rounded-lg",children:"ðŸŒ"}),(0,b.jsx)("span",{className:"bg-gradient-to-r from-primary-600 to-primary-800 bg-clip-text text-transparent font-display",children:"Mapa Global de Eventos"}),l.length>0&&(0,b.jsxs)(i.Badge,{className:"bg-primary-100 text-primary-700 border-primary-200",children:[l.length," activos"]})]})}),(0,b.jsx)(h.CardDescription,{className:"text-base text-surface-600",children:"Monitoreo continuo de desastres naturales en tiempo real"})]}),(0,b.jsx)(h.CardContent,{className:"p-6",children:(0,b.jsx)(d.DisasterMap,{events:l,userZones:o,height:"500px",onEventClick:a=>{p.push(`/event/${a.id}`)},onZoneClick:b=>{a?p.push("/settings"):p.push("/login")}})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6 mb-16",children:[(0,b.jsx)(h.Card,{className:"bg-gradient-to-br from-danger/10 to-danger/5 border-danger/20 hover:shadow-glow transition-all duration-300 group",children:(0,b.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-danger/20 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:(0,b.jsx)("span",{className:"text-danger text-xl",children:"ðŸš¨"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-danger mb-1",children:l.filter(a=>4===a.severity).length}),(0,b.jsx)("div",{className:"text-sm font-medium text-danger/80",children:"CrÃ­ticos"}),(0,b.jsx)("div",{className:"text-xs text-surface-500 mt-1",children:"Severidad MÃ¡xima"})]})}),(0,b.jsx)(h.Card,{className:"bg-gradient-to-br from-warning/10 to-warning/5 border-warning/20 hover:shadow-medium transition-all duration-300 group",children:(0,b.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-warning/20 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:(0,b.jsx)("span",{className:"text-warning text-xl",children:"âš ï¸"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-warning mb-1",children:l.filter(a=>3===a.severity).length}),(0,b.jsx)("div",{className:"text-sm font-medium text-warning/80",children:"Altos"}),(0,b.jsx)("div",{className:"text-xs text-surface-500 mt-1",children:"Severidad Alta"})]})}),(0,b.jsx)(h.Card,{className:"bg-gradient-to-br from-primary-100/50 to-primary-50/30 border-primary-200/50 hover:shadow-medium transition-all duration-300 group",children:(0,b.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:(0,b.jsx)("span",{className:"text-primary-600 text-xl",children:"ðŸ“Š"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-primary-600 mb-1",children:l.filter(a=>2===a.severity).length}),(0,b.jsx)("div",{className:"text-sm font-medium text-primary-700/80",children:"Medios"}),(0,b.jsx)("div",{className:"text-xs text-surface-500 mt-1",children:"Severidad Media"})]})}),(0,b.jsx)(h.Card,{className:"bg-gradient-to-br from-success/10 to-success/5 border-success/20 hover:shadow-medium transition-all duration-300 group",children:(0,b.jsxs)(h.CardContent,{className:"p-6 text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-success/20 rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform",children:(0,b.jsx)("span",{className:"text-success text-xl",children:"âœ…"})}),(0,b.jsx)("div",{className:"text-3xl font-bold text-success mb-1",children:l.filter(a=>1===a.severity).length}),(0,b.jsx)("div",{className:"text-sm font-medium text-success/80",children:"Bajos"}),(0,b.jsx)("div",{className:"text-xs text-surface-500 mt-1",children:"Severidad Baja"})]})})]}),(0,b.jsxs)("div",{className:"text-center mb-12",children:[(0,b.jsx)("h2",{className:"text-3xl font-display font-bold text-surface-800 mb-4",children:"TecnologÃ­a Avanzada"}),(0,b.jsx)("p",{className:"text-surface-600 max-w-2xl mx-auto",children:"Sentinel combina las Ãºltimas tecnologÃ­as para brindarte informaciÃ³n crÃ­tica cuando mÃ¡s importa."})]}),(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)(h.Card,{className:"group hover:shadow-large transition-all duration-500 hover:-translate-y-2 bg-gradient-to-br from-white to-primary-50/30 border-primary-100/50",children:[(0,b.jsxs)(h.CardHeader,{className:"text-center pb-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-primary-400 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-glow group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)("span",{className:"text-2xl text-white",children:"ðŸ””"})}),(0,b.jsx)(h.CardTitle,{className:"text-xl font-display text-primary-800",children:"Alertas InstantÃ¡neas"})]}),(0,b.jsx)(h.CardContent,{className:"text-center",children:(0,b.jsx)(h.CardDescription,{className:"text-base text-surface-600 leading-relaxed",children:"Notificaciones push inteligentes que te alertan sobre desastres en tus zonas configuradas, con informaciÃ³n detallada y acciones recomendadas."})})]}),(0,b.jsxs)(h.Card,{className:"group hover:shadow-large transition-all duration-500 hover:-translate-y-2 bg-gradient-to-br from-white to-success/10 border-success/20",children:[(0,b.jsxs)(h.CardHeader,{className:"text-center pb-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-success to-success/80 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-glow group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)("span",{className:"text-2xl text-white",children:"ðŸ“±"})}),(0,b.jsx)(h.CardTitle,{className:"text-xl font-display text-success-800",children:"PWA Nativa"})]}),(0,b.jsx)(h.CardContent,{className:"text-center",children:(0,b.jsx)(h.CardDescription,{className:"text-base text-surface-600 leading-relaxed",children:"AplicaciÃ³n web progresiva que se instala como una app nativa. Funciona sin conexiÃ³n y se sincroniza automÃ¡ticamente."})})]}),(0,b.jsxs)(h.Card,{className:"group hover:shadow-large transition-all duration-500 hover:-translate-y-2 bg-gradient-to-br from-white to-warning/10 border-warning/20 sm:col-span-2 lg:col-span-1",children:[(0,b.jsxs)(h.CardHeader,{className:"text-center pb-4",children:[(0,b.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-warning to-warning/80 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-glow group-hover:scale-110 transition-transform duration-300",children:(0,b.jsx)("span",{className:"text-2xl text-white",children:"ðŸŽ¯"})}),(0,b.jsx)(h.CardTitle,{className:"text-xl font-display text-warning-800",children:"Zonas Inteligentes"})]}),(0,b.jsx)(h.CardContent,{className:"text-center",children:(0,b.jsx)(h.CardDescription,{className:"text-base text-surface-600 leading-relaxed",children:"Configura zonas geogrÃ¡ficas personalizadas con radio inteligente. Recibe alertas solo para las Ã¡reas que te importan."})})]})]}),(0,b.jsx)("div",{className:"text-center mt-16",children:(0,b.jsx)(h.Card,{className:"bg-gradient-to-r from-primary-500 to-primary-600 text-white border-0 shadow-large",children:(0,b.jsxs)(h.CardContent,{className:"p-8",children:[(0,b.jsx)("h3",{className:"text-2xl font-display font-bold mb-4",children:"Â¿Listo para proteger lo que importa?"}),(0,b.jsx)("p",{className:"text-primary-100 mb-6 max-w-2xl mx-auto",children:"Ãšnete a miles de personas que confÃ­an en Sentinel para mantenerse informados sobre desastres naturales en tiempo real."}),!a&&(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,b.jsx)("button",{onClick:()=>p.push("/login"),className:"px-8 py-3 bg-white text-primary-600 font-semibold rounded-lg shadow-soft hover:shadow-medium transition-all duration-200 hover:scale-105",children:"Comenzar Ahora"}),(0,b.jsx)("button",{onClick:()=>p.push("/dashboard"),className:"px-8 py-3 border-2 border-white/30 text-white font-semibold rounded-lg hover:bg-white/10 transition-all duration-200",children:"Ver Demo"})]})]})})})]})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__282060ed._.js.map