{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../src/lib/constants/disasters.ts","../../../../src/lib/hooks/useEvents.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","import { DisasterType, DisasterConfig } from '@/lib/types';\n\nexport const DISASTER_CONFIGS: Record<DisasterType, DisasterConfig> = {\n  earthquake: {\n    id: 'earthquake',\n    name: 'Earthquake',\n    nameEs: 'Sismo',\n    icon: '游깴',\n    color: '#FF6B6B',\n    severityLabels: {\n      1: 'Menor (< 4.0)',\n      2: 'Leve (4.0 - 5.0)',\n      3: 'Moderado (5.0 - 6.0)',\n      4: 'Severo (> 6.0)'\n    }\n  },\n  tsunami: {\n    id: 'tsunami',\n    name: 'Tsunami',\n    nameEs: 'Tsunami',\n    icon: '游깱',\n    color: '#4ECDC4',\n    severityLabels: {\n      1: 'Vigilancia',\n      2: 'Aviso',\n      3: 'Alerta',\n      4: 'Alerta M치xima'\n    }\n  },\n  volcano: {\n    id: 'volcano',\n    name: 'Volcanic Eruption',\n    nameEs: 'Erupci칩n Volc치nica',\n    icon: '游깲',\n    color: '#FF8C42',\n    severityLabels: {\n      1: 'Verde',\n      2: 'Amarillo',\n      3: 'Naranja',\n      4: 'Rojo'\n    }\n  },\n  wildfire: {\n    id: 'wildfire',\n    name: 'Wildfire',\n    nameEs: 'Incendio Forestal',\n    icon: '游댠',\n    color: '#F4722B',\n    severityLabels: {\n      1: 'Controlado',\n      2: 'Activo',\n      3: 'Fuera de Control',\n      4: 'Catastr칩fico'\n    }\n  },\n  flood: {\n    id: 'flood',\n    name: 'Flood',\n    nameEs: 'Inundaci칩n',\n    icon: '游눦',\n    color: '#1A535C',\n    severityLabels: {\n      1: 'Menor',\n      2: 'Moderada',\n      3: 'Severa',\n      4: 'Catastr칩fica'\n    }\n  },\n  storm: {\n    id: 'storm',\n    name: 'Storm/Hurricane',\n    nameEs: 'Tormenta/Hurac치n',\n    icon: '游',\n    color: '#6B5B95',\n    severityLabels: {\n      1: 'Tormenta Tropical',\n      2: 'Categor칤a 1-2',\n      3: 'Categor칤a 3-4',\n      4: 'Categor칤a 5'\n    }\n  },\n  landslide: {\n    id: 'landslide',\n    name: 'Landslide',\n    nameEs: 'Aluvi칩n/Deslizamiento',\n    icon: '久썶잺',\n    color: '#8B4513',\n    severityLabels: {\n      1: 'Menor',\n      2: 'Moderado',\n      3: 'Severo',\n      4: 'Catastr칩fico'\n    }\n  }\n};\n\n// Lista ordenada de tipos de desastre para filtros\nexport const DISASTER_TYPES: DisasterType[] = [\n  'earthquake',\n  'tsunami',\n  'volcano',\n  'wildfire',\n  'flood',\n  'storm',\n  'landslide'\n];\n\n// Fuentes de datos disponibles\nexport const DATA_SOURCES = {\n  usgs: {\n    name: 'USGS Earthquake Hazards Program',\n    url: 'https://earthquake.usgs.gov',\n    types: ['earthquake']\n  },\n  gdacs: {\n    name: 'Global Disaster Alert and Coordination System',\n    url: 'https://www.gdacs.org',\n    types: ['earthquake', 'tsunami', 'volcano', 'wildfire', 'flood', 'storm']\n  }\n} as const;\n\n// Configuraci칩n de polling\nexport const POLLING_CONFIG = {\n  usgs: {\n    intervalMinutes: 5,\n    endpoint: 'https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_day.geojson'\n  },\n  gdacs: {\n    intervalMinutes: 15,\n    endpoint: 'https://www.gdacs.org/xml/rss.xml'\n  }\n} as const;\n","'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { DisasterEvent, EventFilters } from '@/lib/types';\nimport { getEvents, subscribeToEvents, getEventById } from '@/lib/firebase/firestore';\n\nexport function useEvents(filters: EventFilters = { disasterTypes: [], minSeverity: 1 }) {\n  const [events, setEvents] = useState<DisasterEvent[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setLoading(true);\n    setError(null);\n\n    // Cargar eventos iniciales\n    getEvents(filters)\n      .then(setEvents)\n      .catch((err) => {\n        console.error('Error loading events:', err);\n        setError('Error al cargar eventos');\n      })\n      .finally(() => setLoading(false));\n\n    // Suscribirse a cambios en tiempo real\n    const unsubscribe = subscribeToEvents(\n      (updatedEvents) => {\n        setEvents(updatedEvents);\n        setError(null);\n      },\n      filters\n    );\n\n    return unsubscribe;\n  }, [\n    filters.disasterTypes?.join(','),\n    filters.minSeverity,\n    filters.dateRange?.start.getTime(),\n    filters.dateRange?.end.getTime(),\n    filters.nearLocation?.lat,\n    filters.nearLocation?.lng,\n    filters.nearLocation?.radiusKm\n  ]);\n\n  const refresh = useCallback(async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const freshEvents = await getEvents(filters);\n      setEvents(freshEvents);\n    } catch (err) {\n      console.error('Error refreshing events:', err);\n      setError('Error al actualizar eventos');\n    } finally {\n      setLoading(false);\n    }\n  }, [filters]);\n\n  return {\n    events,\n    loading,\n    error,\n    refresh\n  };\n}\n\nexport function useEvent(eventId: string | null) {\n  const [event, setEvent] = useState<DisasterEvent | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!eventId) {\n      setEvent(null);\n      return;\n    }\n\n    const loadEvent = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const eventData = await getEventById(eventId);\n        setEvent(eventData);\n      } catch (err) {\n        console.error('Error loading event:', err);\n        setError('Error al cargar evento');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadEvent();\n  }, [eventId]);\n\n  return {\n    event,\n    loading,\n    error,\n    refetch: () => {\n      if (eventId) {\n        const loadEvent = async () => {\n          try {\n            setLoading(true);\n            setError(null);\n            const eventData = await getEventById(eventId);\n            setEvent(eventData);\n          } catch (err) {\n            console.error('Error refetching event:', err);\n            setError('Error al recargar evento');\n          } finally {\n            setLoading(false);\n          }\n        };\n        loadEvent();\n      }\n    }\n  };\n}\n\n// Hook para eventos recientes (칰ltimos N eventos)\nexport function useRecentEvents(limit: number = 10) {\n  const filters: EventFilters = {\n    disasterTypes: [],\n    minSeverity: 1,\n    dateRange: {\n      start: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000), // 칔ltimos 7 d칤as\n      end: new Date()\n    }\n  };\n\n  const { events, loading, error } = useEvents(filters);\n\n  return {\n    events: events.slice(0, limit),\n    loading,\n    error\n  };\n}\n\n// Hook para eventos por tipo de desastre\nexport function useEventsByType(disasterType: string) {\n  const filters: EventFilters = {\n    disasterTypes: [disasterType as any],\n    minSeverity: 1\n  };\n\n  return useEvents(filters);\n}\n\n// Hook para contar eventos por severidad\nexport function useEventCounts() {\n  const { events, loading } = useEvents();\n\n  const counts = events.reduce((acc, event) => {\n    acc[event.severity] = (acc[event.severity] || 0) + 1;\n    return acc;\n  }, {} as Record<number, number>);\n\n  return {\n    counts,\n    total: events.length,\n    loading\n  };\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient","ReactDOM"],"mappings":"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","ignoreList":[0,1,2,3,4]}