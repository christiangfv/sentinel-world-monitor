{"version":3,"sources":["../../../../src/components/user/ZoneManager.tsx","../../../../src/components/user/ZoneForm.tsx","../../../../src/components/ui/Modal.tsx","../../../../src/components/user/ZoneCard.tsx","../../../../src/components/user/AlertPreferences.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useAuth } from '@/lib/hooks/useAuth';\nimport { useUserZones } from '@/lib/hooks/useUserZones';\nimport { UserZone } from '@/lib/types';\nimport { ZoneForm } from './ZoneForm';\nimport { ZoneCard } from './ZoneCard';\nimport { Button } from '@/components/ui/Button';\nimport { Modal } from '@/components/ui/Modal';\nimport { LoadingSpinner } from '@/components/ui/Spinner';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/Card';\n\ninterface ZoneManagerProps {\n  className?: string;\n}\n\nexport function ZoneManager({ className = '' }: ZoneManagerProps) {\n  const { user } = useAuth();\n  const { zones, loading, error, createZone, updateZone, removeZone, toggleZone } = useUserZones();\n\n  const [isCreateModalOpen, setIsCreateModalOpen] = useState(false);\n  const [editingZone, setEditingZone] = useState<UserZone | null>(null);\n\n  const handleCreateZone = async (zoneData: Omit<UserZone, 'id' | 'userId' | 'createdAt'>) => {\n    try {\n      await createZone(zoneData);\n      setIsCreateModalOpen(false);\n    } catch (error) {\n      console.error('Error creating zone:', error);\n      // Error ya manejado por el hook\n    }\n  };\n\n  const handleUpdateZone = async (zoneData: Omit<UserZone, 'id' | 'userId' | 'createdAt'>) => {\n    if (!editingZone) return;\n\n    try {\n      await updateZone(editingZone.id, zoneData);\n      setEditingZone(null);\n    } catch (error) {\n      console.error('Error updating zone:', error);\n      // Error ya manejado por el hook\n    }\n  };\n\n  const handleDeleteZone = async (zoneId: string) => {\n    if (confirm('¬øEst√°s seguro de que quieres eliminar esta zona?')) {\n      try {\n        await removeZone(zoneId);\n      } catch (error) {\n        console.error('Error deleting zone:', error);\n        // Error ya manejado por el hook\n      }\n    }\n  };\n\n  if (!user) {\n    return (\n      <Card className={className}>\n        <CardContent className=\"text-center py-8\">\n          <div className=\"text-muted-foreground\">\n            Debes iniciar sesi√≥n para gestionar tus zonas\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <div className={className}>\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle>Mis Zonas de Monitoreo</CardTitle>\n              <CardDescription>\n                Configura las √°reas geogr√°ficas donde quieres recibir alertas\n              </CardDescription>\n            </div>\n            <Button onClick={() => setIsCreateModalOpen(true)}>\n              ‚ûï Agregar Zona\n            </Button>\n          </div>\n        </CardHeader>\n\n        <CardContent>\n          {loading ? (\n            <div className=\"text-center py-8\">\n              <LoadingSpinner text=\"Cargando zonas...\" />\n            </div>\n          ) : error ? (\n            <div className=\"text-center py-8\">\n              <div className=\"text-red-500 mb-2\">‚ö†Ô∏è Error al cargar zonas</div>\n              <p className=\"text-sm text-muted-foreground\">{error}</p>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"mt-4\"\n                onClick={() => window.location.reload()}\n              >\n                Reintentar\n              </Button>\n            </div>\n          ) : zones.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <div className=\"text-6xl mb-4\">üó∫Ô∏è</div>\n              <h3 className=\"text-lg font-semibold mb-2\">No tienes zonas configuradas</h3>\n              <p className=\"text-muted-foreground mb-6\">\n                Crea tu primera zona para empezar a recibir alertas personalizadas\n              </p>\n              <Button onClick={() => setIsCreateModalOpen(true)}>\n                Crear Primera Zona\n              </Button>\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {zones.map((zone) => (\n                <ZoneCard\n                  key={zone.id}\n                  zone={zone}\n                  onEdit={() => setEditingZone(zone)}\n                  onDelete={() => handleDeleteZone(zone.id)}\n                  onToggle={() => toggleZone(zone.id, !zone.isActive)}\n                />\n              ))}\n            </div>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Modal para crear zona */}\n      <Modal\n        isOpen={isCreateModalOpen}\n        onClose={() => setIsCreateModalOpen(false)}\n      >\n        <ZoneForm\n          onSubmit={handleCreateZone}\n          onCancel={() => setIsCreateModalOpen(false)}\n          title=\"Crear Nueva Zona\"\n        />\n      </Modal>\n\n      {/* Modal para editar zona */}\n      <Modal\n        isOpen={!!editingZone}\n        onClose={() => setEditingZone(null)}\n      >\n        {editingZone && (\n          <ZoneForm\n            initialData={editingZone}\n            onSubmit={handleUpdateZone}\n            onCancel={() => setEditingZone(null)}\n            title=\"Editar Zona\"\n          />\n        )}\n      </Modal>\n    </div>\n  );\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { UserZone } from '@/lib/types';\nimport { DisasterMap } from '@/components/map/DisasterMap';\nimport { Button } from '@/components/ui/Button';\nimport { ModalHeader, ModalTitle, ModalCloseButton } from '@/components/ui/Modal';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/Card';\nimport { LoadingSpinner } from '@/components/ui/Spinner';\n\ninterface ZoneFormData {\n  name: string;\n  radiusKm: number;\n  location: {\n    lat: number;\n    lng: number;\n  };\n}\n\ninterface ZoneFormProps {\n  initialData?: UserZone;\n  onSubmit: (data: Omit<UserZone, 'id' | 'userId' | 'createdAt'>) => Promise<void>;\n  onCancel: () => void;\n  title: string;\n}\n\nexport function ZoneForm({ initialData, onSubmit, onCancel, title }: ZoneFormProps) {\n  const [formData, setFormData] = useState<ZoneFormData>({\n    name: initialData?.name || '',\n    radiusKm: initialData?.radiusKm || 50,\n    location: initialData?.location || { lat: -33.45, lng: -70.65 } // Santiago por defecto\n  });\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isGettingLocation, setIsGettingLocation] = useState(false);\n  const [locationError, setLocationError] = useState<string | null>(null);\n\n  // Funci√≥n para manejar cambios en coordenadas manuales\n  const handleCoordinatesChange = (lat: string, lng: string) => {\n    const latNum = parseFloat(lat);\n    const lngNum = parseFloat(lng);\n\n    if (!isNaN(latNum) && !isNaN(lngNum)) {\n      setFormData(prev => ({\n        ...prev,\n        location: { lat: latNum, lng: lngNum }\n      }));\n    }\n  };\n\n  const handleGetCurrentLocation = () => {\n    setIsGettingLocation(true);\n    setLocationError(null);\n\n    if (!navigator.geolocation) {\n      setLocationError('La geolocalizaci√≥n no est√° soportada por este navegador');\n      setIsGettingLocation(false);\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        const { latitude, longitude } = position.coords;\n        setFormData(prev => ({\n          ...prev,\n          location: { lat: latitude, lng: longitude }\n        }));\n        setIsGettingLocation(false);\n      },\n      (error) => {\n        console.error('Error getting location:', error);\n        let errorMessage = 'Error al obtener la ubicaci√≥n';\n\n        switch (error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'Permiso de ubicaci√≥n denegado';\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'Ubicaci√≥n no disponible';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'Tiempo de espera agotado';\n            break;\n        }\n\n        setLocationError(errorMessage);\n        setIsGettingLocation(false);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 300000 // 5 minutos\n      }\n    );\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (!formData.name.trim()) {\n      alert('Por favor ingresa un nombre para la zona');\n      return;\n    }\n\n    if (formData.radiusKm < 1 || formData.radiusKm > 500) {\n      alert('El radio debe estar entre 1 y 500 km');\n      return;\n    }\n\n    try {\n      setIsSubmitting(true);\n      await onSubmit({\n        name: formData.name.trim(),\n        location: formData.location,\n        geohash: '', // Se calcular√° en el servidor\n        radiusKm: formData.radiusKm,\n        isActive: initialData?.isActive ?? true\n      });\n    } catch (error) {\n      console.error('Error submitting form:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"max-w-4xl mx-auto\">\n      <ModalHeader>\n        <ModalTitle>{title}</ModalTitle>\n        <ModalCloseButton onClick={onCancel} />\n      </ModalHeader>\n\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\n        {/* Informaci√≥n b√°sica */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-lg\">Informaci√≥n B√°sica</CardTitle>\n            <CardDescription>\n              Configura el nombre y radio de la zona\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">\n                Nombre de la zona *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.name}\n                onChange={(e) => setFormData(prev => ({ ...prev, name: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                placeholder=\"Ej: Mi casa, Trabajo, Ciudad...\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium mb-2\">\n                Radio de alerta (km) *\n              </label>\n              <input\n                type=\"number\"\n                min=\"1\"\n                max=\"500\"\n                value={formData.radiusKm}\n                onChange={(e) => setFormData(prev => ({ ...prev, radiusKm: parseInt(e.target.value) || 50 }))}\n                className=\"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n              />\n              <p className=\"text-xs text-muted-foreground mt-1\">\n                Recibir√°s alertas cuando eventos ocurran dentro de este radio\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Selecci√≥n de ubicaci√≥n */}\n        <Card>\n          <CardHeader>\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <CardTitle className=\"text-lg\">Ubicaci√≥n</CardTitle>\n                <CardDescription>\n                  Selecciona el centro de la zona en el mapa\n                </CardDescription>\n              </div>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={handleGetCurrentLocation}\n                disabled={isGettingLocation}\n              >\n                {isGettingLocation ? (\n                  <LoadingSpinner size=\"sm\" />\n                ) : (\n                  'üìç Mi ubicaci√≥n'\n                )}\n              </Button>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4\">\n              {locationError && (\n                <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg\">\n                  {locationError}\n                </div>\n              )}\n\n              {/* Inputs para coordenadas */}\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Latitud\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.000001\"\n                    value={formData.location.lat}\n                    onChange={(e) => handleCoordinatesChange(e.target.value, formData.location.lng.toString())}\n                    className=\"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                    placeholder=\"-33.456789\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium mb-2\">\n                    Longitud\n                  </label>\n                  <input\n                    type=\"number\"\n                    step=\"0.000001\"\n                    value={formData.location.lng}\n                    onChange={(e) => handleCoordinatesChange(formData.location.lat.toString(), e.target.value)}\n                    className=\"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500\"\n                    placeholder=\"-70.678901\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"text-sm text-muted-foreground\">\n                üìç Ubicaci√≥n actual: {formData.location.lat.toFixed(6)}, {formData.location.lng.toFixed(6)}\n              </div>\n\n              {/* Mapa de vista previa */}\n              <div className=\"h-64 rounded-lg overflow-hidden border\">\n                <DisasterMap\n                  events={[]}\n                  center={[formData.location.lat, formData.location.lng]}\n                  zoom={12}\n                  onEventClick={() => {}} // No necesitamos manejar eventos aqu√≠\n                  onZoneClick={() => {}} // Tampoco zonas\n                />\n              </div>\n\n              <div className=\"text-xs text-muted-foreground\">\n                üí° Puedes ajustar las coordenadas manualmente o usar \"Mi ubicaci√≥n\" para centrar el mapa en tu posici√≥n actual\n              </div>\n            </div>\n          </CardContent>\n        </Card>\n\n        {/* Botones de acci√≥n */}\n        <div className=\"flex gap-3 pt-4 border-t\">\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={onCancel}\n            className=\"flex-1\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"flex-1\"\n          >\n            {isSubmitting ? <LoadingSpinner size=\"sm\" /> : null}\n            {initialData ? 'Actualizar Zona' : 'Crear Zona'}\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n}\n","import { forwardRef, useEffect } from 'react';\nimport { cn } from '@/lib/utils';\n\ninterface ModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst Modal = forwardRef<HTMLDivElement, ModalProps>(\n  ({ isOpen, onClose, children, className }, ref) => {\n    useEffect(() => {\n      const handleEscape = (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          onClose();\n        }\n      };\n\n      if (isOpen) {\n        document.addEventListener('keydown', handleEscape);\n        document.body.style.overflow = 'hidden';\n      }\n\n      return () => {\n        document.removeEventListener('keydown', handleEscape);\n        document.body.style.overflow = 'unset';\n      };\n    }, [isOpen, onClose]);\n\n    if (!isOpen) return null;\n\n    return (\n      <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n        {/* Backdrop */}\n        <div\n          className=\"absolute inset-0 bg-black/50 backdrop-blur-sm\"\n          onClick={onClose}\n        />\n\n        {/* Modal content */}\n        <div\n          ref={ref}\n          className={cn(\n            'relative z-10 max-h-[90vh] max-w-[90vw] overflow-auto rounded-lg bg-surface p-6 shadow-xl',\n            className\n          )}\n          onClick={(e) => e.stopPropagation()}\n        >\n          {children}\n        </div>\n      </div>\n    );\n  }\n);\nModal.displayName = 'Modal';\n\ninterface ModalHeaderProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst ModalHeader = forwardRef<HTMLDivElement, ModalHeaderProps>(\n  ({ children, className }, ref) => (\n    <div\n      ref={ref}\n      className={cn('mb-4 flex items-center justify-between', className)}\n    >\n      {children}\n    </div>\n  )\n);\nModalHeader.displayName = 'ModalHeader';\n\ninterface ModalTitleProps {\n  children: React.ReactNode;\n  className?: string;\n}\n\nconst ModalTitle = forwardRef<HTMLHeadingElement, ModalTitleProps>(\n  ({ children, className }, ref) => (\n    <h2\n      ref={ref}\n      className={cn('text-lg font-semibold text-foreground', className)}\n    >\n      {children}\n    </h2>\n  )\n);\nModalTitle.displayName = 'ModalTitle';\n\ninterface ModalCloseButtonProps {\n  onClick: () => void;\n  className?: string;\n}\n\nconst ModalCloseButton = forwardRef<HTMLButtonElement, ModalCloseButtonProps>(\n  ({ onClick, className }, ref) => (\n    <button\n      ref={ref}\n      onClick={onClick}\n      className={cn(\n        'rounded-full p-1 text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-primary-500',\n        className\n      )}\n      aria-label=\"Cerrar modal\"\n    >\n      <svg\n        className=\"h-5 w-5\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        viewBox=\"0 0 24 24\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          strokeWidth={2}\n          d=\"M6 18L18 6M6 6l12 12\"\n        />\n      </svg>\n    </button>\n  )\n);\nModalCloseButton.displayName = 'ModalCloseButton';\n\nexport { Modal, ModalHeader, ModalTitle, ModalCloseButton };\n","import { UserZone } from '@/lib/types';\nimport { Card, CardContent } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { Badge } from '@/components/ui/Badge';\n\ninterface ZoneCardProps {\n  zone: UserZone;\n  onEdit: () => void;\n  onDelete: () => void;\n  onToggle: () => void;\n  className?: string;\n}\n\nexport function ZoneCard({ zone, onEdit, onDelete, onToggle, className = '' }: ZoneCardProps) {\n  const formatDate = (date: Date) => {\n    return new Intl.DateTimeFormat('es-ES', {\n      day: '2-digit',\n      month: 'short',\n      year: 'numeric'\n    }).format(date);\n  };\n\n  return (\n    <Card className={`${zone.isActive ? 'border-primary-500 bg-primary-50/50' : ''} ${className}`}>\n      <CardContent className=\"p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex-1\">\n            <div className=\"flex items-center gap-3 mb-2\">\n              <h3 className=\"font-semibold text-lg\">{zone.name}</h3>\n              <Badge variant={zone.isActive ? 'secondary' : 'outline'}>\n                {zone.isActive ? 'Activa' : 'Inactiva'}\n              </Badge>\n            </div>\n\n            <div className=\"grid grid-cols-2 gap-4 text-sm text-muted-foreground\">\n              <div>\n                <span className=\"font-medium\">üìè Radio:</span> {zone.radiusKm} km\n              </div>\n              <div>\n                <span className=\"font-medium\">üìÖ Creada:</span> {formatDate(zone.createdAt)}\n              </div>\n              <div className=\"col-span-2\">\n                <span className=\"font-medium\">üìç Ubicaci√≥n:</span> {zone.location.lat.toFixed(4)}, {zone.location.lng.toFixed(4)}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex gap-2 ml-4\">\n            <Button\n              size=\"sm\"\n              variant={zone.isActive ? \"default\" : \"outline\"}\n              onClick={onToggle}\n              className=\"min-w-[80px]\"\n            >\n              {zone.isActive ? 'Desactivar' : 'Activar'}\n            </Button>\n\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              onClick={onEdit}\n            >\n              ‚úèÔ∏è Editar\n            </Button>\n\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              onClick={onDelete}\n              className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n            >\n              üóëÔ∏è Eliminar\n            </Button>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { useAuth } from '@/lib/hooks/useAuth';\nimport { DisasterType, AlertPreference } from '@/lib/types';\nimport { DISASTER_TYPES, DISASTER_CONFIGS } from '@/lib/constants/disasters';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/Card';\nimport { Button } from '@/components/ui/Button';\nimport { Badge } from '@/components/ui/Badge';\nimport { LoadingSpinner } from '@/components/ui/Spinner';\n\ninterface AlertPreferencesProps {\n  className?: string;\n}\n\nexport function AlertPreferences({ className = '' }: AlertPreferencesProps) {\n  const { user } = useAuth();\n  const [preferences, setPreferences] = useState<Record<DisasterType, AlertPreference>>({} as Record<DisasterType, AlertPreference>);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState<DisasterType | null>(null);\n\n  // Cargar preferencias desde Firestore\n  useEffect(() => {\n    const loadPreferences = async () => {\n      if (!user?.uid) return;\n\n      try {\n        setLoading(true);\n        // Aqu√≠ ir√≠a la llamada a la funci√≥n de Firestore\n        // Por ahora, valores por defecto\n        const defaultPrefs: Record<DisasterType, AlertPreference> = {} as Record<DisasterType, AlertPreference>;\n\n        DISASTER_TYPES.forEach(type => {\n          defaultPrefs[type] = {\n            disasterType: type,\n            minSeverity: 1,\n            pushEnabled: true,\n            emailEnabled: false\n          };\n        });\n\n        setPreferences(defaultPrefs);\n      } catch (error) {\n        console.error('Error loading preferences:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadPreferences();\n  }, [user?.uid]);\n\n  const handlePreferenceChange = async (\n    disasterType: DisasterType,\n    field: keyof AlertPreference,\n    value: any\n  ) => {\n    try {\n      setSaving(disasterType);\n\n      // Actualizar estado local\n      setPreferences(prev => ({\n        ...prev,\n        [disasterType]: {\n          ...prev[disasterType],\n          [field]: value\n        }\n      }));\n\n      // Aqu√≠ ir√≠a la llamada a Firestore para guardar\n      // await updateAlertPreference(user!.uid, disasterType, { [field]: value });\n\n      // Simular delay de guardado\n      await new Promise(resolve => setTimeout(resolve, 500));\n\n    } catch (error) {\n      console.error('Error updating preference:', error);\n      // Revertir cambio en caso de error\n    } finally {\n      setSaving(null);\n    }\n  };\n\n  const handleSelectAll = () => {\n    DISASTER_TYPES.forEach(type => {\n      if (!preferences[type]?.pushEnabled) {\n        handlePreferenceChange(type, 'pushEnabled', true);\n      }\n    });\n  };\n\n  const handleClearAll = () => {\n    DISASTER_TYPES.forEach(type => {\n      if (preferences[type]?.pushEnabled) {\n        handlePreferenceChange(type, 'pushEnabled', false);\n      }\n    });\n  };\n\n  if (!user) {\n    return (\n      <Card className={className}>\n        <CardContent className=\"text-center py-8\">\n          <div className=\"text-muted-foreground\">\n            Debes iniciar sesi√≥n para gestionar tus preferencias de alertas\n          </div>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (loading) {\n    return (\n      <Card className={className}>\n        <CardContent className=\"text-center py-8\">\n          <LoadingSpinner text=\"Cargando preferencias...\" />\n        </CardContent>\n      </Card>\n    );\n  }\n\n  return (\n    <Card className={className}>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle>Preferencias de Alertas</CardTitle>\n            <CardDescription>\n              Configura qu√© tipos de desastres quieres monitorear y c√≥mo recibir las alertas\n            </CardDescription>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" size=\"sm\" onClick={handleSelectAll}>\n              Activar Todas\n            </Button>\n            <Button variant=\"outline\" size=\"sm\" onClick={handleClearAll}>\n              Desactivar Todas\n            </Button>\n          </div>\n        </div>\n      </CardHeader>\n\n      <CardContent>\n        <div className=\"space-y-4\">\n          {DISASTER_TYPES.map(disasterType => {\n            const config = DISASTER_CONFIGS[disasterType];\n            const pref = preferences[disasterType];\n            const isSaving = saving === disasterType;\n\n            if (!pref) return null;\n\n            return (\n              <div key={disasterType} className=\"border border-border rounded-lg p-4\">\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-center gap-3 flex-1\">\n                    <span className=\"text-2xl\">{config.icon}</span>\n                    <div className=\"flex-1\">\n                      <h3 className=\"font-semibold\">{config.nameEs}</h3>\n                      <p className=\"text-sm text-muted-foreground\">{config.name}</p>\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center gap-4\">\n                    {/* Severidad m√≠nima */}\n                    <div className=\"text-right\">\n                      <div className=\"text-xs text-muted-foreground mb-1\">Severidad m√≠n.</div>\n                      <select\n                        value={pref.minSeverity}\n                        onChange={(e) => handlePreferenceChange(disasterType, 'minSeverity', parseInt(e.target.value))}\n                        disabled={isSaving}\n                        className=\"text-sm border border-border rounded px-2 py-1 disabled:opacity-50\"\n                      >\n                        {[1, 2, 3, 4].map(severity => (\n                          <option key={severity} value={severity}>\n                            {severity}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n\n                    {/* Push notifications */}\n                    <div className=\"text-center\">\n                      <div className=\"text-xs text-muted-foreground mb-1\">Push</div>\n                      <input\n                        type=\"checkbox\"\n                        checked={pref.pushEnabled}\n                        onChange={(e) => handlePreferenceChange(disasterType, 'pushEnabled', !pref.pushEnabled)}\n                        disabled={isSaving}\n                        className=\"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500\"\n                      />\n                    </div>\n\n                    {/* Email notifications */}\n                    <div className=\"text-center\">\n                      <div className=\"text-xs text-muted-foreground mb-1\">Email</div>\n                      <input\n                        type=\"checkbox\"\n                        checked={pref.emailEnabled}\n                        onChange={(e) => handlePreferenceChange(disasterType, 'emailEnabled', !pref.emailEnabled)}\n                        disabled={isSaving}\n                        className=\"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500\"\n                      />\n                    </div>\n\n                    {/* Estado */}\n                    <div className=\"text-right\">\n                      {isSaving ? (\n                        <LoadingSpinner size=\"sm\" />\n                      ) : (\n                        <Badge variant={pref.pushEnabled ? 'secondary' : 'outline'}>\n                          {pref.pushEnabled ? 'Activo' : 'Inactivo'}\n                        </Badge>\n                      )}\n                    </div>\n                  </div>\n                </div>\n\n                {/* Etiquetas de severidad */}\n                <div className=\"mt-3 pt-3 border-t\">\n                  <div className=\"text-xs text-muted-foreground mb-2\">Niveles de severidad:</div>\n                  <div className=\"flex flex-wrap gap-1\">\n                    {Object.entries(config.severityLabels).map(([level, label]) => (\n                      <Badge\n                        key={level}\n                        variant={parseInt(level) >= pref.minSeverity ? 'outline' : 'secondary'}\n                        className=\"text-xs\"\n                      >\n                        {label}\n                      </Badge>\n                    ))}\n                  </div>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n\n        <div className=\"mt-6 p-4 bg-muted/50 rounded-lg\">\n          <h4 className=\"font-medium mb-2\">üí° Consejos</h4>\n          <ul className=\"text-sm text-muted-foreground space-y-1\">\n            <li>‚Ä¢ <strong>Severidad m√≠nima:</strong> Solo recibir√°s alertas para eventos de esta severidad o superior</li>\n            <li>‚Ä¢ <strong>Notificaciones push:</strong> Alertas en tiempo real en tu dispositivo</li>\n            <li>‚Ä¢ <strong>Notificaciones email:</strong> Res√∫menes diarios por correo electr√≥nico</li>\n            <li>‚Ä¢ Puedes ajustar estas preferencias en cualquier momento</li>\n          </ul>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}