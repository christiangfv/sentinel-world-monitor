{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../src/components/auth/AuthGuard.tsx","../../../../src/lib/constants/disasters.ts","../../../../src/lib/hooks/useUserZones.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","'use client';\n\nimport { useEffect } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { useAuth } from '@/lib/hooks/useAuth';\nimport { LoadingSpinner } from '@/components/ui/Spinner';\n\ninterface AuthGuardProps {\n  children: React.ReactNode;\n  redirectTo?: string;\n  requireAuth?: boolean;\n}\n\nexport function AuthGuard({\n  children,\n  redirectTo = '/login',\n  requireAuth = true\n}: AuthGuardProps) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading) {\n      if (requireAuth && !user) {\n        // Usuario no autenticado, redirigir a login\n        router.push(redirectTo);\n      } else if (!requireAuth && user) {\n        // Usuario autenticado en p치gina p칰blica, redirigir a dashboard\n        router.push('/dashboard');\n      }\n    }\n  }, [user, loading, requireAuth, redirectTo, router]);\n\n  // Mostrar loading mientras se verifica la autenticaci칩n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <LoadingSpinner text=\"Verificando sesi칩n...\" />\n      </div>\n    );\n  }\n\n  // Si requiere auth y no hay usuario, no renderizar nada (se redirigir치)\n  if (requireAuth && !user) {\n    return null;\n  }\n\n  // Si no requiere auth pero hay usuario, no renderizar nada (se redirigir치)\n  if (!requireAuth && user) {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n","import { DisasterType, DisasterConfig } from '@/lib/types';\n\nexport const DISASTER_CONFIGS: Record<DisasterType, DisasterConfig> = {\n  earthquake: {\n    id: 'earthquake',\n    name: 'Earthquake',\n    nameEs: 'Sismo',\n    icon: '游깴',\n    color: '#FF6B6B',\n    severityLabels: {\n      1: 'Menor (< 4.0)',\n      2: 'Leve (4.0 - 5.0)',\n      3: 'Moderado (5.0 - 6.0)',\n      4: 'Severo (> 6.0)'\n    }\n  },\n  tsunami: {\n    id: 'tsunami',\n    name: 'Tsunami',\n    nameEs: 'Tsunami',\n    icon: '游깱',\n    color: '#4ECDC4',\n    severityLabels: {\n      1: 'Vigilancia',\n      2: 'Aviso',\n      3: 'Alerta',\n      4: 'Alerta M치xima'\n    }\n  },\n  volcano: {\n    id: 'volcano',\n    name: 'Volcanic Eruption',\n    nameEs: 'Erupci칩n Volc치nica',\n    icon: '游깲',\n    color: '#FF8C42',\n    severityLabels: {\n      1: 'Verde',\n      2: 'Amarillo',\n      3: 'Naranja',\n      4: 'Rojo'\n    }\n  },\n  wildfire: {\n    id: 'wildfire',\n    name: 'Wildfire',\n    nameEs: 'Incendio Forestal',\n    icon: '游댠',\n    color: '#F4722B',\n    severityLabels: {\n      1: 'Controlado',\n      2: 'Activo',\n      3: 'Fuera de Control',\n      4: 'Catastr칩fico'\n    }\n  },\n  flood: {\n    id: 'flood',\n    name: 'Flood',\n    nameEs: 'Inundaci칩n',\n    icon: '游눦',\n    color: '#1A535C',\n    severityLabels: {\n      1: 'Menor',\n      2: 'Moderada',\n      3: 'Severa',\n      4: 'Catastr칩fica'\n    }\n  },\n  storm: {\n    id: 'storm',\n    name: 'Storm/Hurricane',\n    nameEs: 'Tormenta/Hurac치n',\n    icon: '游',\n    color: '#6B5B95',\n    severityLabels: {\n      1: 'Tormenta Tropical',\n      2: 'Categor칤a 1-2',\n      3: 'Categor칤a 3-4',\n      4: 'Categor칤a 5'\n    }\n  },\n  landslide: {\n    id: 'landslide',\n    name: 'Landslide',\n    nameEs: 'Aluvi칩n/Deslizamiento',\n    icon: '久썶잺',\n    color: '#8B4513',\n    severityLabels: {\n      1: 'Menor',\n      2: 'Moderado',\n      3: 'Severo',\n      4: 'Catastr칩fico'\n    }\n  }\n};\n\n// Lista ordenada de tipos de desastre para filtros\nexport const DISASTER_TYPES: DisasterType[] = [\n  'earthquake',\n  'tsunami',\n  'volcano',\n  'wildfire',\n  'flood',\n  'storm',\n  'landslide'\n];\n\n// Fuentes de datos disponibles\nexport const DATA_SOURCES = {\n  usgs: {\n    name: 'USGS Earthquake Hazards Program',\n    url: 'https://earthquake.usgs.gov',\n    types: ['earthquake']\n  },\n  gdacs: {\n    name: 'Global Disaster Alert and Coordination System',\n    url: 'https://www.gdacs.org',\n    types: ['earthquake', 'tsunami', 'volcano', 'wildfire', 'flood', 'storm']\n  }\n} as const;\n\n// Configuraci칩n de polling\nexport const POLLING_CONFIG = {\n  usgs: {\n    intervalMinutes: 5,\n    endpoint: 'https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_day.geojson'\n  },\n  gdacs: {\n    intervalMinutes: 15,\n    endpoint: 'https://www.gdacs.org/xml/rss.xml'\n  }\n} as const;\n","'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { UserZone } from '@/lib/types';\nimport { useAuth } from './useAuth';\nimport {\n  getUserZones,\n  addUserZone,\n  updateUserZone,\n  deleteUserZone\n} from '@/lib/firebase/firestore';\n\nexport function useUserZones() {\n  const { user } = useAuth();\n  const [zones, setZones] = useState<UserZone[]>([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const userId = user?.uid;\n\n  const loadZones = useCallback(async () => {\n    if (!userId) {\n      setZones([]);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      const userZones = await getUserZones(userId);\n      setZones(userZones);\n    } catch (err) {\n      console.error('Error loading zones:', err);\n      setError('Error al cargar zonas');\n    } finally {\n      setLoading(false);\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    loadZones();\n  }, [loadZones]);\n\n  const createZone = useCallback(async (zoneData: Omit<UserZone, 'id' | 'userId' | 'createdAt'>) => {\n    if (!userId) {\n      throw new Error('Usuario no autenticado');\n    }\n\n    try {\n      setError(null);\n      const zoneId = await addUserZone(userId, zoneData);\n      await loadZones(); // Recargar zonas\n      return zoneId;\n    } catch (err) {\n      console.error('Error creating zone:', err);\n      setError('Error al crear zona');\n      throw err;\n    }\n  }, [userId, loadZones]);\n\n  const updateZone = useCallback(async (zoneId: string, updates: Partial<UserZone>) => {\n    if (!userId) {\n      throw new Error('Usuario no autenticado');\n    }\n\n    try {\n      setError(null);\n      await updateUserZone(userId, zoneId, updates);\n      await loadZones(); // Recargar zonas\n    } catch (err) {\n      console.error('Error updating zone:', err);\n      setError('Error al actualizar zona');\n      throw err;\n    }\n  }, [userId, loadZones]);\n\n  const removeZone = useCallback(async (zoneId: string) => {\n    if (!userId) {\n      throw new Error('Usuario no autenticado');\n    }\n\n    try {\n      setError(null);\n      await deleteUserZone(userId, zoneId);\n      await loadZones(); // Recargar zonas\n    } catch (err) {\n      console.error('Error deleting zone:', err);\n      setError('Error al eliminar zona');\n      throw err;\n    }\n  }, [userId, loadZones]);\n\n  const toggleZone = useCallback(async (zoneId: string, isActive: boolean) => {\n    return updateZone(zoneId, { isActive });\n  }, [updateZone]);\n\n  // Zonas activas (solo las que est치n habilitadas)\n  const activeZones = zones.filter(zone => zone.isActive);\n\n  // Verificar si una ubicaci칩n est치 dentro de alguna zona activa\n  const isLocationInUserZones = useCallback((lat: number, lng: number, radiusKm: number = 0) => {\n    return activeZones.some(zone => {\n      const distance = calculateDistance(lat, lng, zone.location.lat, zone.location.lng);\n      return distance <= (zone.radiusKm + radiusKm);\n    });\n  }, [activeZones]);\n\n  return {\n    zones,\n    activeZones,\n    loading,\n    error,\n    createZone,\n    updateZone,\n    removeZone,\n    toggleZone,\n    refresh: loadZones,\n    isLocationInUserZones\n  };\n}\n\n// Funci칩n helper para calcular distancia (duplicada de geo.ts para evitar dependencias)\nfunction calculateDistance(lat1: number, lng1: number, lat2: number, lng2: number): number {\n  const R = 6371; // Radio de la Tierra en km\n  const dLat = (lat1 - lat2) * Math.PI / 180;\n  const dLng = (lng1 - lng2) * Math.PI / 180;\n  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(lat2 * Math.PI / 180) * Math.cos(lat1 * Math.PI / 180) *\n    Math.sin(dLng/2) * Math.sin(dLng/2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\n  return R * c;\n}\n"],"names":["module","exports","require","vendored","AppRouterContext","HooksClientContext","ServerInsertedHtml","ReactServerDOMTurbopackClient","ReactDOM"],"mappings":"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","ignoreList":[0,1,2,3,4]}