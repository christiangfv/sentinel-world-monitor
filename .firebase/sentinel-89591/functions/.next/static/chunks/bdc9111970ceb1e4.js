(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39964,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(91285);let i=(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("div",{ref:i,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let l=(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("div",{ref:i,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let n=(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("h3",{ref:i,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle";let r=(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("p",{ref:i,className:(0,s.cn)("text-sm text-muted-foreground",e),...t}));r.displayName="CardDescription";let d=(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("div",{ref:i,className:(0,s.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent",(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("div",{ref:i,className:(0,s.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",e.s(["Card",()=>i,"CardContent",()=>d,"CardDescription",()=>r,"CardHeader",()=>l,"CardTitle",()=>n])},65254,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(59544),i=e.i(39964);function l(){let{canInstall:e,installPWA:l,updatePWA:n,updateAvailable:r,isOffline:d}=function(){let[e,a]=(0,t.useState)({isInstallable:!1,isInstalled:!1,isOffline:!1,updateAvailable:!1,registration:null}),[s,i]=(0,t.useState)(null);(0,t.useEffect)(()=>{let e=()=>{let e=window.matchMedia("(display-mode: standalone)").matches,t=!0===window.navigator.standalone;a(a=>({...a,isInstalled:e||t}))};e();let t=window.matchMedia("(display-mode: standalone)");t.addListener(e);let s=e=>{e.preventDefault(),i(e),a(e=>({...e,isInstallable:!0}))},l=()=>{a(e=>({...e,isInstalled:!0,isInstallable:!1})),i(null)};window.addEventListener("beforeinstallprompt",s),window.addEventListener("appinstalled",l);let n=()=>a(e=>({...e,isOffline:!1})),r=()=>a(e=>({...e,isOffline:!0}));return window.addEventListener("online",n),window.addEventListener("offline",r),a(e=>({...e,isOffline:!window.navigator.onLine})),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(e=>{a(a=>({...a,registration:e})),e.addEventListener("updatefound",()=>{let t=e.installing;t&&t.addEventListener("statechange",()=>{"installed"===t.state&&window.navigator.serviceWorker.controller&&a(e=>({...e,updateAvailable:!0}))})})}),()=>{t.removeListener(e),window.removeEventListener("beforeinstallprompt",s),window.removeEventListener("appinstalled",l),window.removeEventListener("online",n),window.removeEventListener("offline",r)}},[]);let l=async()=>{if(!s)return!1;s.prompt();let{outcome:e}=await s.userChoice;return i(null),a(a=>({...a,isInstallable:!1,isInstalled:"accepted"===e})),"accepted"===e},n=async e=>{if("undefined"!=typeof navigator&&navigator.share)try{return await navigator.share({title:e.title||"Sentinel - Monitoreo de Desastres",text:e.text,url:e.url||window.location.href}),!0}catch(e){console.error("Error sharing:",e)}return!1};return{...e,installPWA:l,updatePWA:()=>{e.registration?.waiting&&(e.registration.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())},share:n,canInstall:e.isInstallable&&!!s,canShare:"undefined"!=typeof navigator&&!!navigator.share}}(),[o,c]=(0,t.useState)(!1);return o?null:r?(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:(0,a.jsx)(i.Card,{className:"bg-primary-500 text-white border-primary-600 shadow-lg",children:(0,a.jsxs)(i.CardContent,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"ðŸ”„"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"ActualizaciÃ³n Disponible"}),(0,a.jsx)("p",{className:"text-sm opacity-90 mt-1",children:"Hay una nueva versiÃ³n de Sentinel disponible"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsx)(s.Button,{size:"sm",onClick:n,className:"bg-white text-primary-600 hover:bg-gray-100",children:"Actualizar Ahora"}),(0,a.jsx)(s.Button,{size:"sm",variant:"outline",onClick:()=>c(!0),className:"border-white text-white hover:bg-white hover:text-primary-600",children:"DespuÃ©s"})]})]})})}):e?(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:(0,a.jsx)(i.Card,{className:"bg-surface border-border shadow-lg",children:(0,a.jsxs)(i.CardContent,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"ðŸ“±"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Instalar Sentinel"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Instala la app para acceder mÃ¡s rÃ¡pido y recibir notificaciones"})]}),(0,a.jsx)("button",{onClick:()=>c(!0),className:"text-muted-foreground hover:text-foreground","aria-label":"Cerrar",children:"âœ•"})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-4",children:[(0,a.jsx)(s.Button,{size:"sm",onClick:l,className:"flex-1",children:"Instalar"}),(0,a.jsx)(s.Button,{size:"sm",variant:"outline",onClick:()=>c(!0),className:"flex-1",children:"DespuÃ©s"})]})]})})}):d?(0,a.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:max-w-sm",children:(0,a.jsx)(i.Card,{className:"bg-yellow-500 text-yellow-900 border-yellow-600 shadow-lg",children:(0,a.jsx)(i.CardContent,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"text-2xl",children:"ðŸ“¡"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Modo Offline"}),(0,a.jsx)("p",{className:"text-sm opacity-90",children:"Funcionando sin conexiÃ³n"})]})]})})})}):null}e.s(["PWAInstallPrompt",()=>l],65254)},27510,e=>{e.v(a=>Promise.all(["static/chunks/54ab083194d7bfbe.js"].map(a=>e.l(a))).then(()=>a(48323)))}]);