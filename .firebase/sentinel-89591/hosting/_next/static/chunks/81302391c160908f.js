(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65254,e=>{"use strict";var t=e.i(43476),n=e.i(71645);function i(){let{canInstall:e,installPWA:i,updatePWA:a,updateAvailable:s,isOffline:l}=function(){let[e,t]=(0,n.useState)({isInstallable:!1,isInstalled:!1,isOffline:!1,updateAvailable:!1,registration:null}),[i,a]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=()=>{let e=window.matchMedia("(display-mode: standalone)").matches,n=!0===window.navigator.standalone;t(t=>({...t,isInstalled:e||n}))};e();let n=window.matchMedia("(display-mode: standalone)");n.addListener(e);let i=e=>{e.preventDefault(),a(e),t(e=>({...e,isInstallable:!0}))},s=()=>{t(e=>({...e,isInstalled:!0,isInstallable:!1})),a(null)};window.addEventListener("beforeinstallprompt",i),window.addEventListener("appinstalled",s);let l=()=>t(e=>({...e,isOffline:!1})),r=()=>t(e=>({...e,isOffline:!0}));return window.addEventListener("online",l),window.addEventListener("offline",r),t(e=>({...e,isOffline:!window.navigator.onLine})),"serviceWorker"in window.navigator&&window.navigator.serviceWorker.ready.then(e=>{t(t=>({...t,registration:e})),e.addEventListener("updatefound",()=>{let n=e.installing;n&&n.addEventListener("statechange",()=>{"installed"===n.state&&window.navigator.serviceWorker.controller&&t(e=>({...e,updateAvailable:!0}))})})}),()=>{n.removeListener(e),window.removeEventListener("beforeinstallprompt",i),window.removeEventListener("appinstalled",s),window.removeEventListener("online",l),window.removeEventListener("offline",r)}},[]);let s=async()=>{if(!i)return!1;i.prompt();let{outcome:e}=await i.userChoice;return a(null),t(t=>({...t,isInstallable:!1,isInstalled:"accepted"===e})),"accepted"===e},l=async e=>{if("undefined"!=typeof navigator&&navigator.share)try{return await navigator.share({title:e.title||"Sentinel - Monitoreo de Desastres",text:e.text,url:e.url||window.location.href}),!0}catch(e){console.error("Error sharing:",e)}return!1};return{...e,installPWA:s,updatePWA:()=>{e.registration?.waiting&&(e.registration.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload())},share:l,canInstall:e.isInstallable&&!!i,canShare:"undefined"!=typeof navigator&&!!navigator.share}}(),[r,o]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{if((e||s)&&!r){let e=setTimeout(()=>{o(!0)},1e4);return()=>clearTimeout(e)}},[e,s,r]),r)?null:s?(0,t.jsx)("div",{className:"fixed top-20 right-4 z-50 animate-slide-in-right",children:(0,t.jsxs)("div",{className:"bg-[#1A1B22]/90 backdrop-blur-md border border-[#D4B57A]/40 rounded-xl p-3 shadow-2xl flex items-center gap-4 min-w-[280px]",children:[(0,t.jsx)("div",{className:"bg-[#D4B57A]/20 p-2 rounded-lg",children:(0,t.jsx)("span",{className:"text-xl",children:"ðŸ”„"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-[#E8E8F0] font-semibold text-xs tracking-tight",children:"ActualizaciÃ³n disponible"}),(0,t.jsx)("p",{className:"text-[#8890A0] text-[10px] mt-0.5",children:"Nueva versiÃ³n de Sentinel"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)("button",{onClick:a,className:"text-[10px] bg-[#D4B57A] text-[#0D0E14] px-3 py-1 rounded-md font-bold hover:bg-[#B89A5A] transition-colors",children:"Actualizar ahora"}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"text-[10px] text-[#8890A0] hover:text-[#E8E8F0] px-2",children:"DespuÃ©s"})]})]})]})}):e?(0,t.jsx)("div",{className:"fixed top-20 right-4 z-50 animate-slide-in-right",children:(0,t.jsxs)("div",{className:"bg-[#1A1B22]/90 backdrop-blur-md border border-[#4A5060]/40 rounded-xl p-3 shadow-2xl flex items-center gap-4 min-w-[280px]",children:[(0,t.jsx)("div",{className:"bg-[#4A5060]/20 p-2 rounded-lg",children:(0,t.jsx)("span",{className:"text-xl",children:"ðŸ“±"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-[#E8E8F0] font-semibold text-xs tracking-tight",children:"Sentinel Web App"}),(0,t.jsx)("p",{className:"text-[#8890A0] text-[10px] mt-0.5",children:"Instala para notificaciones"}),(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)("button",{onClick:i,className:"text-[10px] bg-[#E8E8F0] text-[#0D0E14] px-3 py-1 rounded-md font-bold hover:bg-[#C8C8D0] transition-colors",children:"Instalar"}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"text-[10px] text-[#8890A0] hover:text-[#E8E8F0] px-2",children:"Ocultar"})]})]}),(0,t.jsx)("button",{onClick:()=>o(!0),className:"text-[#8890A0] hover:text-[#E8E8F0] p-1",children:"âœ•"})]})}):l?(0,t.jsx)("div",{className:"fixed bottom-4 right-4 z-50",children:(0,t.jsxs)("div",{className:"bg-[#FBBF24]/10 border border-[#FBBF24]/30 rounded-lg px-4 py-2 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“¡"}),(0,t.jsx)("span",{className:"text-[#FBBF24] text-sm",children:"Modo offline"})]})}):null}e.s(["PWAInstallPrompt",()=>i],65254)},60878,e=>{"use strict";var t=e.i(43476);function n({children:e}){return(0,t.jsx)(t.Fragment,{children:e})}e.s(["Provider",()=>n])},27510,e=>{e.v(t=>Promise.all(["static/chunks/54ab083194d7bfbe.js"].map(t=>e.l(t))).then(()=>t(48323)))}]);