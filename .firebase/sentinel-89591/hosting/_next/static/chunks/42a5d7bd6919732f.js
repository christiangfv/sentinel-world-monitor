(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72881,e=>{"use strict";var s=e.i(43476),a=e.i(71645),l=e.i(70703),r=e.i(58594),t=e.i(59544);function n({onMyLocation:e,onToggleZones:l,showZones:r=!0,onFilterChange:n,className:d=""}){let[i,o]=(0,a.useState)(!1);return(0,s.jsxs)("div",{className:`absolute top-4 right-4 z-[1000] space-y-2 ${d}`,children:[(0,s.jsx)(t.Button,{size:"sm",variant:"subtle",className:"bg-surface border border-border shadow-lg hover:bg-accent",onClick:()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(s=>{e?.()},e=>{console.error("Error getting location:",e)}):console.error("Geolocation not supported")},title:"Mi ubicaciÃ³n",children:"ðŸ“"}),l&&(0,s.jsx)(t.Button,{size:"sm",variant:r?"solid":"subtle",className:"bg-surface border border-border shadow-lg",onClick:l,title:r?"Ocultar zonas":"Mostrar zonas",children:"ðŸ "}),(0,s.jsx)(t.Button,{size:"sm",variant:"subtle",className:"bg-surface border border-border shadow-lg",onClick:()=>o(!i),title:"Filtros",children:"ðŸ”"}),i&&(0,s.jsxs)("div",{className:"bg-surface border border-border rounded-lg p-3 shadow-lg min-w-[200px]",children:[(0,s.jsx)("h4",{className:"font-medium text-sm mb-3",children:"Filtros"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-muted-foreground block mb-1",children:"Severidad mÃ­nima"}),(0,s.jsxs)("select",{className:"w-full text-sm border border-border rounded px-2 py-1 bg-background",onChange:e=>n?.({minSeverity:parseInt(e.target.value)}),defaultValue:"1",children:[(0,s.jsx)("option",{value:"1",children:"Todas las severidades"}),(0,s.jsx)("option",{value:"2",children:"Severidad 2+"}),(0,s.jsx)("option",{value:"3",children:"Severidad 3+"}),(0,s.jsx)("option",{value:"4",children:"Solo severidad 4"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-xs font-medium text-muted-foreground block mb-1",children:"Tipo de desastre"}),(0,s.jsx)("div",{className:"space-y-1",children:[{value:"earthquake",label:"Sismos",icon:"ðŸŒ"},{value:"tsunami",label:"Tsunamis",icon:"ðŸŒŠ"},{value:"wildfire",label:"Incendios",icon:"ðŸ”¥"},{value:"flood",label:"Inundaciones",icon:"ðŸ’§"},{value:"storm",label:"Tormentas",icon:"ðŸŒ€"},{value:"volcano",label:"Volcanes",icon:"ðŸŒ‹"},{value:"landslide",label:"Deslizamientos",icon:"â›°ï¸"}].map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs",children:[(0,s.jsx)("input",{type:"checkbox",defaultChecked:!0,onChange:s=>{console.log(`${e.value}: ${s.target.checked}`)},className:"rounded border-border"}),(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.value))})]})]}),(0,s.jsx)(t.Button,{size:"sm",className:"w-full mt-3",onClick:()=>o(!1),children:"Aplicar Filtros"})]}),(0,s.jsxs)("div",{className:"bg-surface border border-border rounded-lg p-3 shadow-lg",children:[(0,s.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Leyenda"}),(0,s.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-severity-4 rounded"}),(0,s.jsx)("span",{children:"Severidad 4"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-severity-3 rounded"}),(0,s.jsx)("span",{children:"Severidad 3"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-severity-2 rounded"}),(0,s.jsx)("span",{children:"Severidad 2"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-severity-1 rounded"}),(0,s.jsx)("span",{children:"Severidad 1"})]})]})]})]})}(0,l.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1});let d=(0,l.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1,loading:()=>(0,s.jsx)(r.LoadingSpinner,{text:"Cargando mapa..."})}),i=(0,l.default)(()=>e.A(52169).then(e=>e.TileLayer),{loadableGenerated:{modules:[94970]},ssr:!1}),o=(0,l.default)(()=>e.A(25e3).then(e=>({default:e.EventMarker})),{loadableGenerated:{modules:[94735]},ssr:!1}),c=(0,l.default)(()=>e.A(43144).then(e=>({default:e.ZoneCircle})),{loadableGenerated:{modules:[35692]},ssr:!1});function u({events:e,userZones:l=[],center:t=[-33.45,-70.65],zoom:u=5,height:m="400px",showControls:h=!0,showZones:x=!0,onEventClick:b,onZoneClick:v,onMyLocation:p,onToggleZones:g,onFilterChange:j,className:f=""}){let[N,y]=(0,a.useState)(!1),[k,w]=(0,a.useState)(x);return((0,a.useEffect)(()=>{y(!0)},[]),N)?(0,s.jsxs)("div",{className:`relative ${f}`,children:[(0,s.jsxs)(d,{center:t,zoom:u,style:{height:m,width:"100%"},className:"rounded-lg",children:[(0,s.jsx)(i,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),k&&l.map(e=>(0,s.jsx)(c,{zone:e,onClick:v},`zone-${e.id}`)),e.map(e=>(0,s.jsx)(o,{event:e,onClick:b},`event-${e.id}`))]}),h&&(0,s.jsx)(n,{onMyLocation:p,onToggleZones:()=>{w(!k),g?.()},showZones:k,onFilterChange:j})]}):(0,s.jsx)("div",{className:`bg-surface border border-border rounded-lg flex items-center justify-center ${f}`,style:{height:m},children:(0,s.jsx)(r.LoadingSpinner,{text:"Cargando mapa..."})})}e.s(["DisasterMap",()=>u],72881)},60488,e=>{e.n(e.i(72881))},52169,e=>{e.v(s=>Promise.all(["static/chunks/983c3130c13fb657.js","static/chunks/1442f9ddf5556540.js"].map(s=>e.l(s))).then(()=>s(94970)))},25e3,e=>{e.v(s=>Promise.all(["static/chunks/ba129a952eee0f28.js","static/chunks/1442f9ddf5556540.js"].map(s=>e.l(s))).then(()=>s(94735)))},43144,e=>{e.v(s=>Promise.all(["static/chunks/182f490ad391f383.js"].map(s=>e.l(s))).then(()=>s(35692)))}]);