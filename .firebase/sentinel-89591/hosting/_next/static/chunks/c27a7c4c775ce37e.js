(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,72881,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(70703),l=e.i(58594);function n({onMyLocation:e,onToggleZones:t,showZones:l=!0,onFilterChange:n}){let[r,o]=(0,a.useState)(!1),d="w-9 h-9 bg-[#1A1B22] border border-[#4A5060]/50 rounded-lg flex items-center justify-center text-sm hover:bg-[#4A5060]/30 hover:border-[#7088A0] transition-colors";return(0,s.jsxs)("div",{className:"absolute top-3 right-3 z-[1000] space-y-2",children:[(0,s.jsx)("button",{onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>e?.(),e=>console.error("Error getting location:",e))},className:d,title:"Mi ubicaciÃ³n",children:"ðŸ“"}),t&&(0,s.jsx)("button",{onClick:t,className:`${d} ${l?"bg-[#D4B57A]/20 border-[#D4B57A]/50 text-[#D4B57A]":""}`,title:l?"Ocultar zonas":"Mostrar zonas",children:"ðŸ "}),(0,s.jsx)("button",{onClick:()=>o(!r),className:d,title:"Leyenda",children:"â„¹ï¸"}),r&&(0,s.jsxs)("div",{className:"bg-[#1A1B22] border border-[#4A5060]/50 rounded-lg p-3 shadow-xl min-w-[140px]",children:[(0,s.jsx)("h4",{className:"font-medium text-xs text-[#E8E8F0] mb-2",children:"Severidad"}),(0,s.jsxs)("div",{className:"space-y-1.5 text-xs text-[#8890A0]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#F87171]"}),(0,s.jsx)("span",{children:"CrÃ­tica"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#D4B57A]"}),(0,s.jsx)("span",{children:"Alta"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#FBBF24]"}),(0,s.jsx)("span",{children:"Media"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#4ADE80]"}),(0,s.jsx)("span",{children:"Baja"})]})]})]})]})}let r=(0,t.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1,loading:()=>(0,s.jsx)(l.LoadingSpinner,{text:"Cargando mapa..."})}),o=(0,t.default)(()=>e.A(52169).then(e=>e.TileLayer),{loadableGenerated:{modules:[94970]},ssr:!1}),d=(0,t.default)(()=>e.A(25e3).then(e=>({default:e.EventMarker})),{loadableGenerated:{modules:[94735]},ssr:!1}),i=(0,t.default)(()=>e.A(43144).then(e=>({default:e.ZoneCircle})),{loadableGenerated:{modules:[35692]},ssr:!1}),c=(0,t.default)(()=>e.A(85985).then(e=>({default:e.MapController})),{loadableGenerated:{modules:[91757]},ssr:!1});function u({events:e,selectedEvent:t,userZones:u=[],center:h=[-33.45,-70.65],zoom:m=5,height:x="400px",showControls:j=!0,showZones:b=!0,onEventClick:f,onZoneClick:g,onMyLocation:p,onToggleZones:v,onFilterChange:A,className:C=""}){let[N,k]=(0,a.useState)(!1),[y,B]=(0,a.useState)(b);return((0,a.useEffect)(()=>{k(!0)},[]),N)?(0,s.jsxs)("div",{className:`w-full h-full ${C}`,children:[(0,s.jsxs)(r,{center:h,zoom:m,style:{height:"100%",width:"100%"},zoomControl:!1,children:[(0,s.jsx)(c,{selectedEvent:t}),(0,s.jsx)(o,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'Â© <a href="https://carto.com/">CARTO</a>'}),y&&u.map(e=>(0,s.jsx)(i,{zone:e,onClick:g},`zone-${e.id}`)),e.map(e=>(0,s.jsx)(d,{event:e,onClick:f},`event-${e.id}`))]}),j&&(0,s.jsx)(n,{onMyLocation:p,onToggleZones:()=>{B(!y),v?.()},showZones:y,onFilterChange:A})]}):(0,s.jsx)("div",{className:`bg-surface border border-border rounded-lg flex items-center justify-center ${C}`,style:{height:x},children:(0,s.jsx)(l.LoadingSpinner,{text:"Cargando mapa..."})})}e.s(["DisasterMap",()=>u],72881)},60488,e=>{e.n(e.i(72881))},52169,e=>{e.v(s=>Promise.all(["static/chunks/374deb93b1e6b138.js","static/chunks/1442f9ddf5556540.js"].map(s=>e.l(s))).then(()=>s(94970)))},25e3,e=>{e.v(s=>Promise.all(["static/chunks/35b3983430a3f919.js","static/chunks/1442f9ddf5556540.js"].map(s=>e.l(s))).then(()=>s(94735)))},43144,e=>{e.v(s=>Promise.all(["static/chunks/182f490ad391f383.js"].map(s=>e.l(s))).then(()=>s(35692)))},85985,e=>{e.v(s=>Promise.all(["static/chunks/4a442df3a10d5024.js"].map(s=>e.l(s))).then(()=>s(91757)))}]);