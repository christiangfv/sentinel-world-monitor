(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},58709,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(18566),n=e.i(54579),t=e.i(58594);function i({children:e,redirectTo:i="/login",requireAuth:l=!0}){let{user:o,loading:d}=(0,n.useAuth)(),c=(0,s.useRouter)();return((0,a.useEffect)(()=>{d||(l&&!o?c.push(i):!l&&o&&c.push("/dashboard"))},[o,d,l,i,c]),d)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)(t.LoadingSpinner,{text:"Verificando sesi√≥n..."})}):l&&!o||!l&&o?null:(0,r.jsx)(r.Fragment,{children:e})}e.s(["AuthGuard",()=>i])},67585,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=e.r(32061);function n({reason:e,children:r}){if("undefined"==typeof window)throw Object.defineProperty(new s.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return r}},9885,(e,r,a)=>{"use strict";function s(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return s}})},52157,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return o}});let s=e.r(43476),n=e.r(74080),t=e.r(63599),i=e.r(9885),l=e.r(43369);function o({moduleIds:e}){if("undefined"!=typeof window)return null;let r=t.workAsyncStorage.getStore();if(void 0===r)return null;let a=[];if(r.reactLoadableManifest&&e){let s=r.reactLoadableManifest;for(let r of e){if(!s[r])continue;let e=s[r].files;a.push(...e)}}if(0===a.length)return null;let o=(0,l.getDeploymentIdQueryOrEmptyString)();return(0,s.jsx)(s.Fragment,{children:a.map(e=>{let a=`${r.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}${o}`;return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:r.nonce},e):((0,n.preload)(a,{as:"script",fetchPriority:"low",nonce:r.nonce}),null)})})}},69093,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return d}});let s=e.r(43476),n=e.r(71645),t=e.r(67585),i=e.r(52157);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},d=function(e){let r={...o,...e},a=(0,n.lazy)(()=>r.loader().then(l)),d=r.loading;function c(e){let l=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=!r.ssr||!!r.loading,c=o?n.Suspense:n.Fragment,u=r.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(i.PreloadChunks,{moduleIds:r.modules}):null,(0,s.jsx)(a,{...e})]}):(0,s.jsx)(t.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(a,{...e})});return(0,s.jsx)(c,{...o?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,r,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return n}});let s=e.r(55682)._(e.r(69093));function n(e,r){let a={};"function"==typeof e&&(a.loader=e);let n={...a,...r};return(0,s.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),r.exports=a.default)},37772,e=>{"use strict";e.s(["DISASTER_CONFIGS",0,{earthquake:{id:"earthquake",name:"Earthquake",nameEs:"Sismo",icon:"üåç",color:"#FF6B6B",severityLabels:{1:"Menor (< 4.0)",2:"Leve (4.0 - 5.0)",3:"Moderado (5.0 - 6.0)",4:"Severo (> 6.0)"}},tsunami:{id:"tsunami",name:"Tsunami",nameEs:"Tsunami",icon:"üåä",color:"#4ECDC4",severityLabels:{1:"Vigilancia",2:"Aviso",3:"Alerta",4:"Alerta M√°xima"}},volcano:{id:"volcano",name:"Volcanic Eruption",nameEs:"Erupci√≥n Volc√°nica",icon:"üåã",color:"#FF8C42",severityLabels:{1:"Verde",2:"Amarillo",3:"Naranja",4:"Rojo"}},wildfire:{id:"wildfire",name:"Wildfire",nameEs:"Incendio Forestal",icon:"üî•",color:"#F4722B",severityLabels:{1:"Controlado",2:"Activo",3:"Fuera de Control",4:"Catastr√≥fico"}},flood:{id:"flood",name:"Flood",nameEs:"Inundaci√≥n",icon:"üíß",color:"#1A535C",severityLabels:{1:"Menor",2:"Moderada",3:"Severa",4:"Catastr√≥fica"}},storm:{id:"storm",name:"Storm/Hurricane",nameEs:"Tormenta/Hurac√°n",icon:"üåÄ",color:"#6B5B95",severityLabels:{1:"Tormenta Tropical",2:"Categor√≠a 1-2",3:"Categor√≠a 3-4",4:"Categor√≠a 5"}},landslide:{id:"landslide",name:"Landslide",nameEs:"Aluvi√≥n/Deslizamiento",icon:"‚õ∞Ô∏è",color:"#8B4513",severityLabels:{1:"Menor",2:"Moderado",3:"Severo",4:"Catastr√≥fico"}}},"DISASTER_TYPES",0,["earthquake","tsunami","volcano","wildfire","flood","storm","landslide"]])},39313,e=>{"use strict";var r=e.i(71645),a=e.i(54579),s=e.i(28623);function n(){let{user:e}=(0,a.useAuth)(),[n,t]=(0,r.useState)([]),[i,l]=(0,r.useState)(!1),[o,d]=(0,r.useState)(null),c=e?.uid,u=(0,r.useCallback)(async()=>{if(!c)return void t([]);try{l(!0),d(null);let e=await (0,s.getUserZones)(c);t(e)}catch(e){console.error("Error loading zones:",e),d("Error al cargar zonas")}finally{l(!1)}},[c]);(0,r.useEffect)(()=>{u()},[u]);let m=(0,r.useCallback)(async e=>{if(!c)throw Error("Usuario no autenticado");try{d(null);let r=await (0,s.addUserZone)(c,e);return await u(),r}catch(e){throw console.error("Error creating zone:",e),d("Error al crear zona"),e}},[c,u]),x=(0,r.useCallback)(async(e,r)=>{if(!c)throw Error("Usuario no autenticado");try{d(null),await (0,s.updateUserZone)(c,e,r),await u()}catch(e){throw console.error("Error updating zone:",e),d("Error al actualizar zona"),e}},[c,u]),h=(0,r.useCallback)(async e=>{if(!c)throw Error("Usuario no autenticado");try{d(null),await (0,s.deleteUserZone)(c,e),await u()}catch(e){throw console.error("Error deleting zone:",e),d("Error al eliminar zona"),e}},[c,u]),f=(0,r.useCallback)(async(e,r)=>x(e,{isActive:r}),[x]),p=n.filter(e=>e.isActive),j=(0,r.useCallback)((e,r,a=0)=>p.some(s=>{var n,t,i,l;let o,d,c;return n=e,t=r,i=s.location.lat,l=s.location.lng,2*Math.atan2(Math.sqrt(c=Math.sin((o=(n-i)*Math.PI/180)/2)*Math.sin(o/2)+Math.cos(i*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin((d=(t-l)*Math.PI/180)/2)*Math.sin(d/2)),Math.sqrt(1-c))*6371<=s.radiusKm+a}),[p]);return{zones:n,activeZones:p,loading:i,error:o,createZone:m,updateZone:x,removeZone:h,toggleZone:f,refresh:u,isLocationInUserZones:j}}e.s(["useUserZones",()=>n])},66579,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(54579),n=e.i(39313),t=e.i(72881),i=e.i(59544),l=e.i(91285);let o=(0,a.forwardRef)(({isOpen:e,onClose:s,children:n,className:t},i)=>((0,a.useEffect)(()=>{let r=e=>{"Escape"===e.key&&s()};return e&&(document.addEventListener("keydown",r),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",r),document.body.style.overflow="unset"}},[e,s]),e)?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:s}),(0,r.jsx)("div",{ref:i,className:(0,l.cn)("relative z-10 max-h-[90vh] max-w-[90vw] overflow-auto rounded-lg bg-surface p-6 shadow-xl",t),onClick:e=>e.stopPropagation(),children:n})]}):null);o.displayName="Modal";let d=(0,a.forwardRef)(({children:e,className:a},s)=>(0,r.jsx)("div",{ref:s,className:(0,l.cn)("mb-4 flex items-center justify-between",a),children:e}));d.displayName="ModalHeader";let c=(0,a.forwardRef)(({children:e,className:a},s)=>(0,r.jsx)("h2",{ref:s,className:(0,l.cn)("text-lg font-semibold text-foreground",a),children:e}));c.displayName="ModalTitle";let u=(0,a.forwardRef)(({onClick:e,className:a},s)=>(0,r.jsx)("button",{ref:s,onClick:e,className:(0,l.cn)("rounded-full p-1 text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-primary-500",a),"aria-label":"Cerrar modal",children:(0,r.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}));u.displayName="ModalCloseButton";var m=e.i(39964),x=e.i(58594);function h({initialData:e,onSubmit:s,onCancel:n,title:l}){let[o,h]=(0,a.useState)({name:e?.name||"",radiusKm:e?.radiusKm||50,location:e?.location||{lat:-33.45,lng:-70.65}}),[f,p]=(0,a.useState)(!1),[j,b]=(0,a.useState)(!1),[g,v]=(0,a.useState)(null),y=(e,r)=>{let a=parseFloat(e),s=parseFloat(r);isNaN(a)||isNaN(s)||h(e=>({...e,location:{lat:a,lng:s}}))},N=async r=>{if(r.preventDefault(),!o.name.trim())return void alert("Por favor ingresa un nombre para la zona");if(o.radiusKm<1||o.radiusKm>500)return void alert("El radio debe estar entre 1 y 500 km");try{p(!0),await s({name:o.name.trim(),location:o.location,geohash:"",radiusKm:o.radiusKm,isActive:e?.isActive??!0})}catch(e){console.error("Error submitting form:",e)}finally{p(!1)}};return(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{children:l}),(0,r.jsx)(u,{onClick:n})]}),(0,r.jsxs)("form",{onSubmit:N,className:"space-y-6",children:[(0,r.jsxs)(m.Card,{children:[(0,r.jsxs)(m.CardHeader,{children:[(0,r.jsx)(m.CardTitle,{className:"text-lg",children:"Informaci√≥n B√°sica"}),(0,r.jsx)(m.CardDescription,{children:"Configura el nombre y radio de la zona"})]}),(0,r.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre de la zona *"}),(0,r.jsx)("input",{type:"text",value:o.name,onChange:e=>h(r=>({...r,name:e.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ej: Mi casa, Trabajo, Ciudad...",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Radio de alerta (km) *"}),(0,r.jsx)("input",{type:"number",min:"1",max:"500",value:o.radiusKm,onChange:e=>h(r=>({...r,radiusKm:parseInt(e.target.value)||50})),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Recibir√°s alertas cuando eventos ocurran dentro de este radio"})]})]})]}),(0,r.jsxs)(m.Card,{children:[(0,r.jsx)(m.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.CardTitle,{className:"text-lg",children:"Ubicaci√≥n"}),(0,r.jsx)(m.CardDescription,{children:"Selecciona el centro de la zona en el mapa"})]}),(0,r.jsx)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{if(b(!0),v(null),!navigator.geolocation){v("La geolocalizaci√≥n no est√° soportada por este navegador"),b(!1);return}navigator.geolocation.getCurrentPosition(e=>{let{latitude:r,longitude:a}=e.coords;h(e=>({...e,location:{lat:r,lng:a}})),b(!1)},e=>{console.error("Error getting location:",e);let r="Error al obtener la ubicaci√≥n";switch(e.code){case e.PERMISSION_DENIED:r="Permiso de ubicaci√≥n denegado";break;case e.POSITION_UNAVAILABLE:r="Ubicaci√≥n no disponible";break;case e.TIMEOUT:r="Tiempo de espera agotado"}v(r),b(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},disabled:j,children:j?(0,r.jsx)(x.LoadingSpinner,{size:"sm"}):"üìç Mi ubicaci√≥n"})]})}),(0,r.jsx)(m.CardContent,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[g&&(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:g}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Latitud"}),(0,r.jsx)("input",{type:"number",step:"0.000001",value:o.location.lat,onChange:e=>y(e.target.value,o.location.lng.toString()),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"-33.456789"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Longitud"}),(0,r.jsx)("input",{type:"number",step:"0.000001",value:o.location.lng,onChange:e=>y(o.location.lat.toString(),e.target.value),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"-70.678901"})]})]}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["üìç Ubicaci√≥n actual: ",o.location.lat.toFixed(6),", ",o.location.lng.toFixed(6)]}),(0,r.jsx)("div",{className:"h-64 rounded-lg overflow-hidden border",children:(0,r.jsx)(t.DisasterMap,{events:[],center:[o.location.lat,o.location.lng],zoom:12,onEventClick:()=>{},onZoneClick:()=>{}})}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:'üí° Puedes ajustar las coordenadas manualmente o usar "Mi ubicaci√≥n" para centrar el mapa en tu posici√≥n actual'})]})})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,r.jsx)(i.Button,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancelar"}),(0,r.jsxs)(i.Button,{type:"submit",disabled:f,className:"flex-1",children:[f?(0,r.jsx)(x.LoadingSpinner,{size:"sm"}):null,e?"Actualizar Zona":"Crear Zona"]})]})]})]})}var f=e.i(96640);function p({zone:e,onEdit:a,onDelete:s,onToggle:n,className:t=""}){let l;return(0,r.jsx)(m.Card,{className:`${e.isActive?"border-primary-500 bg-primary-50/50":""} ${t}`,children:(0,r.jsx)(m.CardContent,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,r.jsx)(f.Badge,{variant:e.isActive?"secondary":"outline",children:e.isActive?"Activa":"Inactiva"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"üìè Radio:"})," ",e.radiusKm," km"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"üìÖ Creada:"})," ",(l=e.createdAt,new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"short",year:"numeric"}).format(l))]}),(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("span",{className:"font-medium",children:"üìç Ubicaci√≥n:"})," ",e.location.lat.toFixed(4),", ",e.location.lng.toFixed(4)]})]})]}),(0,r.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,r.jsx)(i.Button,{size:"sm",variant:e.isActive?"solid":"outline",onClick:n,className:"min-w-[80px]",children:e.isActive?"Desactivar":"Activar"}),(0,r.jsx)(i.Button,{size:"sm",variant:"outline",onClick:a,children:"‚úèÔ∏è Editar"}),(0,r.jsx)(i.Button,{size:"sm",variant:"outline",onClick:s,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"üóëÔ∏è Eliminar"})]})]})})})}function j({className:e=""}){let{user:t}=(0,s.useAuth)(),{zones:l,loading:d,error:c,createZone:u,updateZone:f,removeZone:j,toggleZone:b}=(0,n.useUserZones)(),[g,v]=(0,a.useState)(!1),[y,N]=(0,a.useState)(null),C=async e=>{try{await u(e),v(!1)}catch(e){console.error("Error creating zone:",e)}},E=async e=>{if(y)try{await f(y.id,e),N(null)}catch(e){console.error("Error updating zone:",e)}},S=async e=>{if(confirm("¬øEst√°s seguro de que quieres eliminar esta zona?"))try{await j(e)}catch(e){console.error("Error deleting zone:",e)}};return t?(0,r.jsxs)("div",{className:e,children:[(0,r.jsxs)(m.Card,{children:[(0,r.jsx)(m.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(m.CardTitle,{children:"Mis Zonas de Monitoreo"}),(0,r.jsx)(m.CardDescription,{children:"Configura las √°reas geogr√°ficas donde quieres recibir alertas"})]}),(0,r.jsx)(i.Button,{onClick:()=>v(!0),children:"‚ûï Agregar Zona"})]})}),(0,r.jsx)(m.CardContent,{children:d?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)(x.LoadingSpinner,{text:"Cargando zonas..."})}):c?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)("div",{className:"text-red-500 mb-2",children:"‚ö†Ô∏è Error al cargar zonas"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:c}),(0,r.jsx)(i.Button,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>window.location.reload(),children:"Reintentar"})]}):0===l.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"text-6xl mb-4",children:"üó∫Ô∏è"}),(0,r.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No tienes zonas configuradas"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-6",children:"Crea tu primera zona para empezar a recibir alertas personalizadas"}),(0,r.jsx)(i.Button,{onClick:()=>v(!0),children:"Crear Primera Zona"})]}):(0,r.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,r.jsx)(p,{zone:e,onEdit:()=>N(e),onDelete:()=>S(e.id),onToggle:()=>b(e.id,!e.isActive)},e.id))})})]}),(0,r.jsx)(o,{isOpen:g,onClose:()=>v(!1),children:(0,r.jsx)(h,{onSubmit:C,onCancel:()=>v(!1),title:"Crear Nueva Zona"})}),(0,r.jsx)(o,{isOpen:!!y,onClose:()=>N(null),children:y&&(0,r.jsx)(h,{initialData:y,onSubmit:E,onCancel:()=>N(null),title:"Editar Zona"})})]}):(0,r.jsx)(m.Card,{className:e,children:(0,r.jsx)(m.CardContent,{className:"text-center py-8",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Debes iniciar sesi√≥n para gestionar tus zonas"})})})}e.s(["ZoneManager",()=>j],66579)},45123,e=>{"use strict";var r=e.i(43476),a=e.i(71645),s=e.i(54579),n=e.i(37772),t=e.i(39964),i=e.i(59544),l=e.i(96640),o=e.i(58594);function d({className:e=""}){let{user:d}=(0,s.useAuth)(),[c,u]=(0,a.useState)({}),[m,x]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(d?.uid)try{x(!0);let e={};n.DISASTER_TYPES.forEach(r=>{e[r]={disasterType:r,minSeverity:1,pushEnabled:!0,emailEnabled:!1}}),u(e)}catch(e){console.error("Error loading preferences:",e)}finally{x(!1)}})()},[d?.uid]);let p=async(e,r,a)=>{try{f(e),u(s=>({...s,[e]:{...s[e],[r]:a}})),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Error updating preference:",e)}finally{f(null)}};return d?m?(0,r.jsx)(t.Card,{className:e,children:(0,r.jsx)(t.CardContent,{className:"text-center py-8",children:(0,r.jsx)(o.LoadingSpinner,{text:"Cargando preferencias..."})})}):(0,r.jsxs)(t.Card,{className:e,children:[(0,r.jsx)(t.CardHeader,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(t.CardTitle,{children:"Preferencias de Alertas"}),(0,r.jsx)(t.CardDescription,{children:"Configura qu√© tipos de desastres quieres monitorear y c√≥mo recibir las alertas"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{n.DISASTER_TYPES.forEach(e=>{c[e]?.pushEnabled||p(e,"pushEnabled",!0)})},children:"Activar Todas"}),(0,r.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{n.DISASTER_TYPES.forEach(e=>{c[e]?.pushEnabled&&p(e,"pushEnabled",!1)})},children:"Desactivar Todas"})]})]})}),(0,r.jsxs)(t.CardContent,{children:[(0,r.jsx)("div",{className:"space-y-4",children:n.DISASTER_TYPES.map(e=>{let a=n.DISASTER_CONFIGS[e],s=c[e],t=h===e;return s?(0,r.jsxs)("div",{className:"border border-border rounded-lg p-4",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,r.jsx)("span",{className:"text-2xl",children:a.icon}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:"font-semibold",children:a.nameEs}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:a.name})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Severidad m√≠n."}),(0,r.jsx)("select",{value:s.minSeverity,onChange:r=>p(e,"minSeverity",parseInt(r.target.value)),disabled:t,className:"text-sm border border-border rounded px-2 py-1 disabled:opacity-50",children:[1,2,3,4].map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Push"}),(0,r.jsx)("input",{type:"checkbox",checked:s.pushEnabled,onChange:r=>p(e,"pushEnabled",!s.pushEnabled),disabled:t,className:"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),(0,r.jsx)("input",{type:"checkbox",checked:s.emailEnabled,onChange:r=>p(e,"emailEnabled",!s.emailEnabled),disabled:t,className:"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"})]}),(0,r.jsx)("div",{className:"text-right",children:t?(0,r.jsx)(o.LoadingSpinner,{size:"sm"}):(0,r.jsx)(l.Badge,{variant:s.pushEnabled?"secondary":"outline",children:s.pushEnabled?"Activo":"Inactivo"})})]})]}),(0,r.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,r.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Niveles de severidad:"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(a.severityLabels).map(([e,a])=>(0,r.jsx)(l.Badge,{variant:parseInt(e)>=s.minSeverity?"outline":"secondary",className:"text-xs",children:a},e))})]})]},e):null})}),(0,r.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"üí° Consejos"}),(0,r.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,r.jsxs)("li",{children:["‚Ä¢ ",(0,r.jsx)("strong",{children:"Severidad m√≠nima:"})," Solo recibir√°s alertas para eventos de esta severidad o superior"]}),(0,r.jsxs)("li",{children:["‚Ä¢ ",(0,r.jsx)("strong",{children:"Notificaciones push:"})," Alertas en tiempo real en tu dispositivo"]}),(0,r.jsxs)("li",{children:["‚Ä¢ ",(0,r.jsx)("strong",{children:"Notificaciones email:"})," Res√∫menes diarios por correo electr√≥nico"]}),(0,r.jsx)("li",{children:"‚Ä¢ Puedes ajustar estas preferencias en cualquier momento"})]})]})]})]}):(0,r.jsx)(t.Card,{className:e,children:(0,r.jsx)(t.CardContent,{className:"text-center py-8",children:(0,r.jsx)("div",{className:"text-muted-foreground",children:"Debes iniciar sesi√≥n para gestionar tus preferencias de alertas"})})})}e.s(["AlertPreferences",()=>d])},52169,e=>{e.v(r=>Promise.all(["static/chunks/983c3130c13fb657.js","static/chunks/1442f9ddf5556540.js"].map(r=>e.l(r))).then(()=>r(94970)))},25e3,e=>{e.v(r=>Promise.all(["static/chunks/82d54e9e2d2b8431.js","static/chunks/1442f9ddf5556540.js"].map(r=>e.l(r))).then(()=>r(94735)))},43144,e=>{e.v(r=>Promise.all(["static/chunks/182f490ad391f383.js"].map(r=>e.l(r))).then(()=>r(35692)))}]);