(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3374,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(22016),o=e.i(18566),s=e.i(54579),i=e.i(13741),a=e.i(52366),l=e.i(97211);function c(){let{user:e}=(0,s.useAuth)(),c=(0,o.usePathname)(),[u,d]=(0,r.useState)(!1),f=[{href:"/",label:"Mapa",requiresAuth:!1},{href:"/dashboard",label:"Panel",requiresAuth:!0},{href:"/settings",label:"Config",requiresAuth:!0}].filter(t=>!t.requiresAuth||e);return(0,t.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b border-[#4A5060]/30 bg-[#0D0E14]/90 backdrop-blur-md",children:[(0,t.jsxs)("div",{className:"max-w-6xl mx-auto flex h-16 items-center justify-between px-4",children:[(0,t.jsxs)(n.default,{href:"/",className:"flex items-center gap-2 group",children:[(0,t.jsx)("div",{className:"w-9 h-9 flex items-center justify-center transition-transform group-hover:scale-105",children:(0,t.jsx)(l.SentinelLogo,{size:36,className:"drop-shadow-[0_0_10px_rgba(212,181,122,0.3)]"})}),(0,t.jsx)("span",{className:"font-semibold text-[#D4B57A] tracking-wider hidden sm:block",children:"SENTINEL"})]}),(0,t.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:f.map(e=>(0,t.jsx)(n.default,{href:e.href,className:`px-3 py-1.5 rounded-md text-sm transition-colors ${c===e.href?"bg-[#D4B57A]/10 text-[#D4B57A]":"text-[#8890A0] hover:text-[#E8E8F0] hover:bg-[#1A1B22]"}`,children:e.label},e.href))}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e?(0,t.jsx)(a.UserMenu,{}):(0,t.jsx)(i.LoginButton,{}),(0,t.jsx)("button",{onClick:()=>d(!u),className:"md:hidden p-2 text-[#8890A0] hover:text-[#E8E8F0]","aria-label":"Menu",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u?(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),u&&(0,t.jsx)("nav",{className:"md:hidden border-t border-[#4A5060]/30 bg-[#0D0E14] p-4 space-y-1",children:f.map(e=>(0,t.jsx)(n.default,{href:e.href,onClick:()=>d(!1),className:`block px-3 py-2 rounded-md text-sm ${c===e.href?"bg-[#D4B57A]/10 text-[#D4B57A]":"text-[#8890A0] hover:text-[#E8E8F0]"}`,children:e.label},e.href))})]})}e.s(["Header",()=>c])},58594,e=>{"use strict";var t=e.i(43476);function r({size:e="md",className:r=""}){return(0,t.jsx)("div",{className:`${{sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-8 h-8 border-3"}[e]} border-[#D4B57A] border-t-transparent rounded-full animate-spin ${r}`})}function n({text:e}){return(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 py-8",children:[(0,t.jsx)(r,{size:"lg"}),e&&(0,t.jsx)("p",{className:"text-[#8890A0] text-sm",children:e})]})}e.s(["LoadingSpinner",()=>n])},18566,(e,t,r)=>{t.exports=e.r(76562)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return a}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});function s(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function i(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,i(e));else t.set(r,i(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return a},formatWithValidation:function(){return c},urlObjectKeys:function(){return l}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let s=e.r(90809)._(e.r(98183)),i=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,n=e.protocol||"",o=e.pathname||"",a=e.hash||"",l=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),l&&"object"==typeof l&&(l=String(s.urlQueryToSearchParams(l)));let u=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||i.test(n))&&!1!==c?(c="//"+(c||""),o&&"/"!==o[0]&&(o="/"+o)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),o=o.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${n}${c}${o}${u}${a}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return a(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return o}});let n=e.r(71645);function o(e,t){let r=(0,n.useRef)(null),o=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=o.current;t&&(o.current=null,t())}else e&&(r.current=s(e,n)),t&&(o.current=s(t,n))},[e,t])}function s(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return b},MissingStaticPage:function(){return A},NormalizeError:function(){return g},PageNotFoundError:function(){return j},SP:function(){return x},ST:function(){return m},WEB_VITALS:function(){return s},execOnce:function(){return i},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return l},isResSent:function(){return f},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return h},stringifyError:function(){return v}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function i(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function h(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let x="undefined"!=typeof performance,m=x&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class g extends Error{}class j extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class A extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class b extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function v(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return s}});let n=e.r(18967),o=e.r(52817);function s(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,o.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return y},useLinkStatus:function(){return j}};for(var o in n)Object.defineProperty(r,o,{enumerable:!0,get:n[o]});let s=e.r(90809),i=e.r(43476),a=s._(e.r(71645)),l=e.r(95057),c=e.r(8372),u=e.r(18581),d=e.r(18967),f=e.r(5550);e.r(33525);let h=e.r(91949),p=e.r(73668),x=e.r(9396);function m(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let n,o,s,[l,y]=(0,a.useOptimistic)(h.IDLE_LINK_STATUS),j=(0,a.useRef)(null),{href:A,as:b,children:v,prefetch:w=null,passHref:k,replace:E,shallow:B,scroll:N,onClick:D,onMouseEnter:L,onTouchStart:C,legacyBehavior:M=!1,onNavigate:P,ref:T,unstable_dynamicOnHover:S,..._}=t;n=v,M&&("string"==typeof n||"number"==typeof n)&&(n=(0,i.jsx)("a",{children:n}));let U=a.default.useContext(c.AppRouterContext),W=!1!==w,O=!1!==w?null===(r=w)||"auto"===r?x.FetchStrategy.PPR:x.FetchStrategy.Full:x.FetchStrategy.PPR,{href:F,as:z}=a.default.useMemo(()=>{let e=m(A);return{href:e,as:b?m(b):e}},[A,b]);if(M){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});o=a.default.Children.only(n)}let R=M?o&&"object"==typeof o&&o.ref:T,I=a.default.useCallback(e=>(null!==U&&(j.current=(0,h.mountLinkInstance)(e,F,U,O,W,y)),()=>{j.current&&((0,h.unmountLinkForCurrentNavigation)(j.current),j.current=null),(0,h.unmountPrefetchableInstance)(e)}),[W,F,U,O,y]),$={ref:(0,u.useMergedRef)(I,R),onClick(t){M||"function"!=typeof D||D(t),M&&o.props&&"function"==typeof o.props.onClick&&o.props.onClick(t),!U||t.defaultPrevented||function(t,r,n,o,s,i,l){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,p.isLocalURL)(r)){s&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(99781);a.default.startTransition(()=>{d(n||r,s?"replace":"push",i??!0,o.current)})}}(t,F,z,j,E,N,P)},onMouseEnter(e){M||"function"!=typeof L||L(e),M&&o.props&&"function"==typeof o.props.onMouseEnter&&o.props.onMouseEnter(e),U&&W&&(0,h.onNavigationIntent)(e.currentTarget,!0===S)},onTouchStart:function(e){M||"function"!=typeof C||C(e),M&&o.props&&"function"==typeof o.props.onTouchStart&&o.props.onTouchStart(e),U&&W&&(0,h.onNavigationIntent)(e.currentTarget,!0===S)}};return(0,d.isAbsoluteUrl)(z)?$.href=z:M&&!k&&("a"!==o.type||"href"in o.props)||($.href=(0,f.addBasePath)(z)),s=M?a.default.cloneElement(o,$):(0,i.jsx)("a",{..._,...$,children:n}),(0,i.jsx)(g.Provider,{value:l,children:s})}e.r(84508);let g=(0,a.createContext)(h.IDLE_LINK_STATUS),j=()=>(0,a.useContext)(g);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},59544,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(91285);let o=(0,r.forwardRef)(({className:e,variant:r="plasma",size:o="md",disabled:s,...i},a)=>(0,t.jsx)("button",{ref:a,disabled:s,className:(0,n.cn)("inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",{plasma:"bg-gradient-to-r from-[#D4B57A] to-[#A8925A] text-[#0D0E14] hover:shadow-[0_0_20px_rgba(212,181,122,0.3)]",ghost:"bg-transparent text-[#8890A0] hover:bg-[#1A1B22] hover:text-[#E8E8F0]",outline:"bg-transparent border border-[#4A5060] text-[#E8E8F0] hover:border-[#7088A0] hover:bg-[#1A1B22]"}[r],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[o],e),...i}));o.displayName="Button",e.s(["Button",()=>o])},52366,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(54579),o=e.i(59544),s=e.i(39964),i=e.i(68082);function a(){let{user:e,logout:a}=(0,n.useAuth)(),[l,c]=(0,r.useState)(!1);if(!e)return null;let u=async()=>{try{await a(),c(!1)}catch(e){console.error("Error during logout:",e)}},d=(e.displayName||e.email||"U")[0].toUpperCase();return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(o.Button,{variant:"ghost",className:"flex items-center gap-2 px-2",onClick:()=>c(!l),children:[e.photoURL?(0,t.jsx)("img",{src:e.photoURL,alt:e.displayName||"Usuario",className:"h-8 w-8 rounded-full"}):(0,t.jsx)("div",{className:"h-8 w-8 rounded-full bg-[#D4B57A] flex items-center justify-center text-[#0D0E14] text-sm font-medium",children:d}),(0,t.jsx)("span",{className:"hidden md:block text-sm text-[#E8E8F0]",children:e.displayName||e.email?.split("@")[0]}),(0,t.jsx)("svg",{className:`h-4 w-4 text-[#8890A0] transition-transform ${l?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),l&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>c(!1)}),(0,t.jsxs)(s.Card,{className:"absolute right-0 top-full mt-2 z-50 w-56 p-0 shadow-xl",children:[(0,t.jsx)("div",{className:"p-4 border-b border-[#4A5060]/30",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[e.photoURL?(0,t.jsx)("img",{src:e.photoURL,alt:"",className:"h-10 w-10 rounded-full"}):(0,t.jsx)("div",{className:"h-10 w-10 rounded-full bg-[#D4B57A] flex items-center justify-center text-[#0D0E14] font-medium",children:d}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm text-[#E8E8F0] font-medium truncate",children:e.displayName||"Usuario"}),(0,t.jsx)("p",{className:"text-xs text-[#8890A0] truncate",children:e.email})]})]})}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsxs)("button",{onClick:()=>{c(!1),window.location.href="/dashboard"},className:"w-full px-3 py-2 text-sm text-left text-[#8890A0] hover:text-[#E8E8F0] hover:bg-[#1A1B22] rounded-md flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ“Š"})," Panel"]}),(0,t.jsxs)("button",{onClick:()=>{c(!1),window.location.href="/settings"},className:"w-full px-3 py-2 text-sm text-left text-[#8890A0] hover:text-[#E8E8F0] hover:bg-[#1A1B22] rounded-md flex items-center gap-2",children:[(0,t.jsx)("span",{children:"âš™ï¸"})," Config"]}),(0,t.jsxs)("button",{onClick:async()=>{await (0,i.showTestNotification)(),c(!1)},className:"w-full px-3 py-2 text-sm text-left text-[#D4B57A] hover:bg-[#D4B57A]/10 rounded-md flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸ””"})," Probar NotificaciÃ³n"]}),(0,t.jsx)("div",{className:"border-t border-[#4A5060]/30 my-2"}),(0,t.jsxs)("button",{onClick:u,className:"w-full px-3 py-2 text-sm text-left text-[#F87171] hover:bg-[#F87171]/10 rounded-md flex items-center gap-2",children:[(0,t.jsx)("span",{children:"ðŸšª"})," Salir"]})]})]})]})]})}e.s(["UserMenu",()=>a])},97211,e=>{"use strict";var t=e.i(43476);function r({size:e=40,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 180 180",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"90",cy:"65",r:"55",stroke:"#D4B57A",strokeWidth:"1",opacity:"0.1"}),(0,t.jsx)("circle",{cx:"90",cy:"65",r:"40",stroke:"#D4B57A",strokeWidth:"1.5",opacity:"0.2"}),(0,t.jsx)("circle",{cx:"90",cy:"65",r:"25",stroke:"#D4B57A",strokeWidth:"2",opacity:"0.35"}),(0,t.jsx)("path",{d:"M90 22 C90 22 148 38 148 88 C148 135 118 162 90 172 C62 162 32 135 32 88 C32 38 90 22 90 22 Z",fill:"url(#shield-gradient)",stroke:"#D4B57A",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M80 165 L84 100 L96 100 L100 165",fill:"#0D0E14",stroke:"#7088A0",strokeWidth:"1.5"}),(0,t.jsx)("rect",{x:"78",y:"94",width:"24",height:"10",rx:"2",fill:"#1A1B22",stroke:"#7088A0",strokeWidth:"1.5"}),(0,t.jsx)("circle",{cx:"90",cy:"65",r:"16",fill:"url(#light-gradient)"}),(0,t.jsx)("circle",{cx:"90",cy:"65",r:"8",fill:"#D4B57A"}),(0,t.jsx)("circle",{cx:"90",cy:"65",r:"3",fill:"#E8E8F0"}),(0,t.jsx)("line",{x1:"90",y1:"42",x2:"90",y2:"32",stroke:"#D4B57A",strokeWidth:"2",strokeLinecap:"round",opacity:"0.8"}),(0,t.jsx)("line",{x1:"108",y1:"50",x2:"115",y2:"43",stroke:"#D4B57A",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"}),(0,t.jsx)("line",{x1:"72",y1:"50",x2:"65",y2:"43",stroke:"#D4B57A",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"}),(0,t.jsx)("path",{d:"M78 135 L86 145 L104 125",stroke:"#A07888",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:"shield-gradient",x1:"90",y1:"22",x2:"90",y2:"172",gradientUnits:"userSpaceOnUse",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#1A1B22"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#0D0E14"})]}),(0,t.jsxs)("radialGradient",{id:"light-gradient",cx:"0.5",cy:"0.5",r:"0.5",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#E8E8F0"}),(0,t.jsx)("stop",{offset:"40%",stopColor:"#D4B57A"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#A07888",stopOpacity:"0.5"})]})]})]})}e.s(["DisasterIconMap",0,{earthquake:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#D4B57A",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M12 28 L18 20 L24 32 L30 16 L36 36 L44 28",stroke:"#D4B57A",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},tsunami:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#7088A0",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M8 30 Q14 22 20 30 Q26 38 32 30 Q38 22 44 30 Q50 38 56 30",stroke:"#7088A0",strokeWidth:"2.5",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M10 38 Q16 30 22 38 Q28 46 34 38 Q40 30 46 38",stroke:"#7088A0",strokeWidth:"2",strokeLinecap:"round",opacity:"0.5"})]})},volcano:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#A07888",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M14 44 L24 24 L28 28 L32 24 L42 44 Z",fill:"#0D0E14",stroke:"#A07888",strokeWidth:"2"}),(0,t.jsx)("ellipse",{cx:"28",cy:"24",rx:"4",ry:"2",fill:"#D4B57A"}),(0,t.jsx)("circle",{cx:"28",cy:"16",r:"3",fill:"#D4B57A",opacity:"0.7"}),(0,t.jsx)("circle",{cx:"24",cy:"12",r:"2",fill:"#D4B57A",opacity:"0.5"}),(0,t.jsx)("circle",{cx:"33",cy:"14",r:"1.5",fill:"#D4B57A",opacity:"0.4"})]})},wildfire:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#D4B57A",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M28 44 C20 44 16 36 16 30 C16 24 20 20 24 18 C22 22 24 26 28 26 C26 22 28 16 32 12 C32 20 36 22 38 26 C40 30 40 36 36 40 C34 42 32 44 28 44 Z",fill:"#D4B57A"}),(0,t.jsx)("path",{d:"M28 44 C24 44 22 40 22 36 C22 32 24 30 26 28 C25 31 26 33 28 33 C27 31 28 28 30 26 C30 30 32 32 33 34 C34 36 34 40 32 42 C31 43 30 44 28 44 Z",fill:"#E8E8F0",opacity:"0.8"})]})},flood:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#7088A0",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M8 24 Q14 18 20 24 Q26 30 32 24 Q38 18 44 24",stroke:"#7088A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M8 32 Q14 26 20 32 Q26 38 32 32 Q38 26 44 32",stroke:"#7088A0",strokeWidth:"2.5",strokeLinecap:"round"}),(0,t.jsx)("path",{d:"M8 40 Q14 34 20 40 Q26 46 32 40 Q38 34 44 40",stroke:"#7088A0",strokeWidth:"2",strokeLinecap:"round",opacity:"0.6"})]})},storm:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#8890A0",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"28",cy:"28",r:"8",fill:"none",stroke:"#8890A0",strokeWidth:"2"}),(0,t.jsx)("line",{x1:"28",y1:"8",x2:"28",y2:"16",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"28",y1:"40",x2:"28",y2:"48",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"8",y1:"28",x2:"16",y2:"28",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"40",y1:"28",x2:"48",y2:"28",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"14",y1:"14",x2:"20",y2:"20",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"36",y1:"36",x2:"42",y2:"42",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"14",y1:"42",x2:"20",y2:"36",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("line",{x1:"36",y1:"20",x2:"42",y2:"14",stroke:"#8890A0",strokeWidth:"2",strokeLinecap:"round"})]})},landslide:function({size:e=56,className:r,...n}){return(0,t.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,...n,children:[(0,t.jsx)("circle",{cx:"28",cy:"28",r:"24",fill:"#1A1B22",stroke:"#8890A0",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M16 16 L40 16 L28 44 Z",fill:"none",stroke:"#8890A0",strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"28",cy:"24",r:"3",fill:"#8890A0"}),(0,t.jsx)("circle",{cx:"24",cy:"32",r:"2.5",fill:"#8890A0",opacity:"0.8"}),(0,t.jsx)("circle",{cx:"32",cy:"32",r:"2.5",fill:"#8890A0",opacity:"0.8"}),(0,t.jsx)("circle",{cx:"28",cy:"38",r:"2",fill:"#8890A0",opacity:"0.6"})]})}},"SentinelLogo",()=>r])},28623,e=>{"use strict";e.i(36180);var t=e.i(98925),r=e.i(14985);async function n(e={disasterTypes:[],minSeverity:1}){try{let n=[];e.disasterTypes&&e.disasterTypes.length>0&&n.push((0,t.where)("disasterType","in",e.disasterTypes)),e.minSeverity&&e.minSeverity>1&&n.push((0,t.where)("severity",">=",e.minSeverity)),n.push((0,t.orderBy)("eventTime","desc")),n.push((0,t.limit)(100));let o=(0,t.query)((0,t.collection)(r.db,"events"),...n);return(await (0,t.getDocs)(o)).docs.map(e=>{let t=e.data(),r=t.location,n=r?.latitude??r?.lat,o=r?.longitude??r?.lng;return{id:e.id,...t,location:{lat:n,lng:o},eventTime:t.eventTime.toDate(),expiresAt:t.expiresAt?.toDate(),createdAt:t.createdAt.toDate(),updatedAt:t.updatedAt.toDate()}})}catch(e){throw console.error("Error getting events:",e),Error("Error al obtener eventos")}}async function o(e){try{let n=(0,t.doc)(r.db,"events",e),o=await (0,t.getDoc)(n);if(o.exists()){let e=o.data(),t=e.location,r=t?.latitude??t?.lat,n=t?.longitude??t?.lng;return{id:o.id,...e,location:{lat:r,lng:n},eventTime:e.eventTime.toDate(),expiresAt:e.expiresAt?.toDate(),createdAt:e.createdAt.toDate(),updatedAt:e.updatedAt.toDate()}}return null}catch(e){return console.error("Error getting event:",e),null}}function s(e,n={disasterTypes:[],minSeverity:1}){let o=[];n.disasterTypes&&n.disasterTypes.length>0&&o.push((0,t.where)("disasterType","in",n.disasterTypes)),n.minSeverity&&n.minSeverity>1&&o.push((0,t.where)("severity",">=",n.minSeverity)),o.push((0,t.orderBy)("eventTime","desc")),o.push((0,t.limit)(50));let i=(0,t.query)((0,t.collection)(r.db,"events"),...o);return(0,t.onSnapshot)(i,t=>{e(t.docs.map(e=>{let t=e.data(),r=t.location,n=r?.latitude??r?.lat,o=r?.longitude??r?.lng;return{id:e.id,...t,location:{lat:n,lng:o},eventTime:t.eventTime.toDate(),expiresAt:t.expiresAt?.toDate(),createdAt:t.createdAt.toDate(),updatedAt:t.updatedAt.toDate()}}))},e=>{console.error("Error subscribing to events:",e)})}async function i(e){try{let n=(0,t.query)((0,t.collection)(r.db,"users",e,"zones"),(0,t.orderBy)("createdAt","desc"));return(await (0,t.getDocs)(n)).docs.map(t=>{let r=t.data();return{id:t.id,userId:e,...r,location:{lat:r.location.latitude,lng:r.location.longitude},createdAt:r.createdAt.toDate()}})}catch(e){throw console.error("Error getting user zones:",e),Error("Error al obtener zonas")}}async function a(e,n){try{return(await (0,t.addDoc)((0,t.collection)(r.db,"users",e,"zones"),{...n,location:new t.GeoPoint(n.location.lat,n.location.lng),createdAt:t.Timestamp.now()})).id}catch(e){throw console.error("Error adding zone:",e),Error("Error al agregar zona")}}async function l(e,n,o){try{let s={...o};o.location&&(s.location=new t.GeoPoint(o.location.lat,o.location.lng)),await (0,t.updateDoc)((0,t.doc)(r.db,"users",e,"zones",n),s)}catch(e){throw console.error("Error updating zone:",e),Error("Error al actualizar zona")}}async function c(e,n){try{await (0,t.deleteDoc)((0,t.doc)(r.db,"users",e,"zones",n))}catch(e){throw console.error("Error deleting zone:",e),Error("Error al eliminar zona")}}async function u(e,n=50){try{let o=(0,t.query)((0,t.collection)(r.db,"notifications"),(0,t.where)("userId","==",e),(0,t.orderBy)("sentAt","desc"),(0,t.limit)(n));return(await (0,t.getDocs)(o)).docs.map(e=>{let t=e.data();return{id:e.id,...t,sentAt:t.sentAt.toDate(),readAt:t.readAt?.toDate()}})}catch(e){return console.error("Error getting notifications:",e),[]}}async function d(e){try{await (0,t.updateDoc)((0,t.doc)(r.db,"notifications",e),{readAt:t.Timestamp.now()})}catch(e){console.error("Error marking notification as read:",e)}}e.s(["addUserZone",()=>a,"deleteUserZone",()=>c,"getEventById",()=>o,"getEvents",()=>n,"getUserNotifications",()=>u,"getUserZones",()=>i,"markNotificationAsRead",()=>d,"subscribeToEvents",()=>s,"updateUserZone",()=>l])},58709,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),o=e.i(54579),s=e.i(58594);function i({children:e,redirectTo:i="/login",requireAuth:a=!0}){let{user:l,loading:c}=(0,o.useAuth)(),u=(0,n.useRouter)();return((0,r.useEffect)(()=>{c||(a&&!l?u.push(i):!a&&l&&u.push("/dashboard"))},[l,c,a,i,u]),c)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(s.LoadingSpinner,{text:"Verificando sesiÃ³n..."})}):a&&!l||!a&&l?null:(0,t.jsx)(t.Fragment,{children:e})}e.s(["AuthGuard",()=>i])},96640,e=>{"use strict";var t=e.i(43476),r=e.i(91285);function n({className:e,variant:n="plasma",...o}){return(0,t.jsx)("span",{className:(0,r.cn)("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border",{plasma:"bg-[#D4B57A]/15 text-[#D4B57A] border-[#D4B57A]/30",mist:"bg-[#7088A0]/15 text-[#7088A0] border-[#7088A0]/30",success:"bg-[#4ADE80]/15 text-[#4ADE80] border-[#4ADE80]/30",warning:"bg-[#FBBF24]/15 text-[#FBBF24] border-[#FBBF24]/30",danger:"bg-[#F87171]/15 text-[#F87171] border-[#F87171]/30",secondary:"bg-[#4A5060]/30 text-[#8890A0] border-[#4A5060]/40"}[n],e),...o})}e.s(["Badge",()=>n])},39313,e=>{"use strict";var t=e.i(71645),r=e.i(54579),n=e.i(28623);function o(){let{user:e}=(0,r.useAuth)(),[o,s]=(0,t.useState)([]),[i,a]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),u=e?.uid,d=(0,t.useCallback)(async()=>{if(!u)return void s([]);try{a(!0),c(null);let e=await (0,n.getUserZones)(u);s(e)}catch(e){console.error("Error loading zones:",e),c("Error al cargar zonas")}finally{a(!1)}},[u]);(0,t.useEffect)(()=>{d()},[d]);let f=(0,t.useCallback)(async e=>{if(!u)throw Error("Usuario no autenticado");try{c(null);let t=await (0,n.addUserZone)(u,e);return await d(),t}catch(e){throw console.error("Error creating zone:",e),c("Error al crear zona"),e}},[u,d]),h=(0,t.useCallback)(async(e,t)=>{if(!u)throw Error("Usuario no autenticado");try{c(null),await (0,n.updateUserZone)(u,e,t),await d()}catch(e){throw console.error("Error updating zone:",e),c("Error al actualizar zona"),e}},[u,d]),p=(0,t.useCallback)(async e=>{if(!u)throw Error("Usuario no autenticado");try{c(null),await (0,n.deleteUserZone)(u,e),await d()}catch(e){throw console.error("Error deleting zone:",e),c("Error al eliminar zona"),e}},[u,d]),x=(0,t.useCallback)(async(e,t)=>h(e,{isActive:t}),[h]),m=o.filter(e=>e.isActive),y=(0,t.useCallback)((e,t,r=0)=>m.some(n=>{var o,s,i,a;let l,c,u;return o=e,s=t,i=n.location.lat,a=n.location.lng,2*Math.atan2(Math.sqrt(u=Math.sin((l=(o-i)*Math.PI/180)/2)*Math.sin(l/2)+Math.cos(i*Math.PI/180)*Math.cos(o*Math.PI/180)*Math.sin((c=(s-a)*Math.PI/180)/2)*Math.sin(c/2)),Math.sqrt(1-u))*6371<=n.radiusKm+r}),[m]);return{zones:o,activeZones:m,loading:i,error:l,createZone:f,updateZone:h,removeZone:p,toggleZone:x,refresh:d,isLocationInUserZones:y}}e.s(["useUserZones",()=>o])}]);