(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},67585,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let r=e.r(32061);function n({reason:e,children:s}){if("undefined"==typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}},9885,(e,s,a)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return d}});let r=e.r(43476),n=e.r(74080),t=e.r(63599),i=e.r(9885),l=e.r(43369);function d({moduleIds:e}){if("undefined"!=typeof window)return null;let s=t.workAsyncStorage.getStore();if(void 0===s)return null;let a=[];if(s.reactLoadableManifest&&e){let r=s.reactLoadableManifest;for(let s of e){if(!r[s])continue;let e=r[s].files;a.push(...e)}}if(0===a.length)return null;let d=(0,l.getDeploymentIdQueryOrEmptyString)();return(0,r.jsx)(r.Fragment,{children:a.map(e=>{let a=`${s.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}${d}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:s.nonce},e):((0,n.preload)(a,{as:"script",fetchPriority:"low",nonce:s.nonce}),null)})})}},69093,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return o}});let r=e.r(43476),n=e.r(71645),t=e.r(67585),i=e.r(52157);function l(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},o=function(e){let s={...d,...e},a=(0,n.lazy)(()=>s.loader().then(l)),o=s.loading;function c(e){let l=o?(0,r.jsx)(o,{isLoading:!0,pastDelay:!0,error:null}):null,d=!s.ssr||!!s.loading,c=d?n.Suspense:n.Fragment,u=s.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(i.PreloadChunks,{moduleIds:s.modules}):null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(t.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(c,{...d?{fallback:l}:{},children:u})}return c.displayName="LoadableComponent",c}},70703,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return n}});let r=e.r(55682)._(e.r(69093));function n(e,s){let a={};"function"==typeof e&&(a.loader=e);let n={...a,...s};return(0,r.default)({...n,modules:n.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),s.exports=a.default)},37772,e=>{"use strict";let s={abyss:"#0D0E14",shadow:"#1A1B22",plasma:"#D4B57A",mist:"#7088A0",sakura:"#A07888",smoke:"#8890A0",muted:"#E8E8F0"},a={earthquake:{id:"earthquake",name:"Earthquake",nameEs:"Sismo",icon:"üåç",color:s.plasma,severityLabels:{1:"Menor (< 4.0)",2:"Leve (4.0 - 5.0)",3:"Moderado (5.0 - 6.0)",4:"Severo (> 6.0)"}},tsunami:{id:"tsunami",name:"Tsunami",nameEs:"Tsunami",icon:"üåä",color:s.mist,severityLabels:{1:"Vigilancia",2:"Aviso",3:"Alerta",4:"Alerta M√°xima"}},volcano:{id:"volcano",name:"Volcanic Eruption",nameEs:"Erupci√≥n Volc√°nica",icon:"üåã",color:s.sakura,severityLabels:{1:"Verde",2:"Amarillo",3:"Naranja",4:"Rojo"}},wildfire:{id:"wildfire",name:"Wildfire",nameEs:"Incendio Forestal",icon:"üî•",color:s.plasma,severityLabels:{1:"Controlado",2:"Activo",3:"Fuera de Control",4:"Catastr√≥fico"}},flood:{id:"flood",name:"Flood",nameEs:"Inundaci√≥n",icon:"üíß",color:s.mist,severityLabels:{1:"Menor",2:"Moderada",3:"Severa",4:"Catastr√≥fica"}},storm:{id:"storm",name:"Storm/Hurricane",nameEs:"Tormenta/Hurac√°n",icon:"üåÄ",color:s.smoke,severityLabels:{1:"Tormenta Tropical",2:"Categor√≠a 1-2",3:"Categor√≠a 3-4",4:"Categor√≠a 5"}},landslide:{id:"landslide",name:"Landslide",nameEs:"Aluvi√≥n/Deslizamiento",icon:"‚õ∞Ô∏è",color:s.smoke,severityLabels:{1:"Menor",2:"Moderado",3:"Severo",4:"Catastr√≥fico"}}};e.s(["BRAND_COLORS",0,s,"DISASTER_CONFIGS",0,a,"DISASTER_TYPES",0,["earthquake","tsunami","volcano","wildfire","flood","storm","landslide"]])},72881,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(70703),n=e.i(58594);function t({onMyLocation:e,onToggleZones:r,showZones:n=!0,onFilterChange:t}){let[i,l]=(0,a.useState)(!1),d="w-9 h-9 bg-[#1A1B22] border border-[#4A5060]/50 rounded-lg flex items-center justify-center text-sm hover:bg-[#4A5060]/30 hover:border-[#7088A0] transition-colors";return(0,s.jsxs)("div",{className:"absolute top-3 right-3 z-[1000] space-y-2",children:[(0,s.jsx)("button",{onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>e?.(),e=>console.error("Error getting location:",e))},className:d,title:"Mi ubicaci√≥n",children:"üìç"}),r&&(0,s.jsx)("button",{onClick:r,className:`${d} ${n?"bg-[#D4B57A]/20 border-[#D4B57A]/50 text-[#D4B57A]":""}`,title:n?"Ocultar zonas":"Mostrar zonas",children:"üè†"}),(0,s.jsx)("button",{onClick:()=>l(!i),className:d,title:"Leyenda",children:"‚ÑπÔ∏è"}),i&&(0,s.jsxs)("div",{className:"bg-[#1A1B22] border border-[#4A5060]/50 rounded-lg p-3 shadow-xl min-w-[140px]",children:[(0,s.jsx)("h4",{className:"font-medium text-xs text-[#E8E8F0] mb-2",children:"Severidad"}),(0,s.jsxs)("div",{className:"space-y-1.5 text-xs text-[#8890A0]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#F87171]"}),(0,s.jsx)("span",{children:"Cr√≠tica"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#D4B57A]"}),(0,s.jsx)("span",{children:"Alta"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#FBBF24]"}),(0,s.jsx)("span",{children:"Media"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-2.5 h-2.5 rounded-full bg-[#4ADE80]"}),(0,s.jsx)("span",{children:"Baja"})]})]})]})]})}let i=(0,r.default)(()=>e.A(52169).then(e=>e.MapContainer),{loadableGenerated:{modules:[94970]},ssr:!1,loading:()=>(0,s.jsx)(n.LoadingSpinner,{text:"Cargando mapa..."})}),l=(0,r.default)(()=>e.A(52169).then(e=>e.TileLayer),{loadableGenerated:{modules:[94970]},ssr:!1}),d=(0,r.default)(()=>e.A(25e3).then(e=>({default:e.EventMarker})),{loadableGenerated:{modules:[94735]},ssr:!1}),o=(0,r.default)(()=>e.A(43144).then(e=>({default:e.ZoneCircle})),{loadableGenerated:{modules:[35692]},ssr:!1});function c({events:e,userZones:r=[],center:c=[-33.45,-70.65],zoom:u=5,height:m="400px",showControls:x=!0,showZones:h=!0,onEventClick:f,onZoneClick:j,onMyLocation:p,onToggleZones:g,onFilterChange:v,className:b=""}){let[N,y]=(0,a.useState)(!1),[C,E]=(0,a.useState)(h);return((0,a.useEffect)(()=>{y(!0)},[]),N)?(0,s.jsxs)("div",{className:`w-full h-full ${b}`,children:[(0,s.jsxs)(i,{center:c,zoom:u,style:{height:"100%",width:"100%"},zoomControl:!1,children:[(0,s.jsx)(l,{url:"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attribution:'¬© <a href="https://carto.com/">CARTO</a>'}),C&&r.map(e=>(0,s.jsx)(o,{zone:e,onClick:j},`zone-${e.id}`)),e.map(e=>(0,s.jsx)(d,{event:e,onClick:f},`event-${e.id}`))]}),x&&(0,s.jsx)(t,{onMyLocation:p,onToggleZones:()=>{E(!C),g?.()},showZones:C,onFilterChange:v})]}):(0,s.jsx)("div",{className:`bg-surface border border-border rounded-lg flex items-center justify-center ${b}`,style:{height:m},children:(0,s.jsx)(n.LoadingSpinner,{text:"Cargando mapa..."})})}e.s(["DisasterMap",()=>c],72881)},66579,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(54579),n=e.i(39313),t=e.i(72881),i=e.i(59544),l=e.i(91285);let d=(0,a.forwardRef)(({isOpen:e,onClose:r,children:n,className:t},i)=>((0,a.useEffect)(()=>{let s=e=>{"Escape"===e.key&&r()};return e&&(document.addEventListener("keydown",s),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",s),document.body.style.overflow="unset"}},[e,r]),e)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:r}),(0,s.jsx)("div",{ref:i,className:(0,l.cn)("relative z-10 max-h-[90vh] max-w-[90vw] overflow-auto rounded-lg bg-surface p-6 shadow-xl",t),onClick:e=>e.stopPropagation(),children:n})]}):null);d.displayName="Modal";let o=(0,a.forwardRef)(({children:e,className:a},r)=>(0,s.jsx)("div",{ref:r,className:(0,l.cn)("mb-4 flex items-center justify-between",a),children:e}));o.displayName="ModalHeader";let c=(0,a.forwardRef)(({children:e,className:a},r)=>(0,s.jsx)("h2",{ref:r,className:(0,l.cn)("text-lg font-semibold text-foreground",a),children:e}));c.displayName="ModalTitle";let u=(0,a.forwardRef)(({onClick:e,className:a},r)=>(0,s.jsx)("button",{ref:r,onClick:e,className:(0,l.cn)("rounded-full p-1 text-foreground hover:bg-accent focus:outline-none focus:ring-2 focus:ring-primary-500",a),"aria-label":"Cerrar modal",children:(0,s.jsx)("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}));u.displayName="ModalCloseButton";var m=e.i(39964),x=e.i(58594);function h({initialData:e,onSubmit:r,onCancel:n,title:l}){let[d,h]=(0,a.useState)({name:e?.name||"",radiusKm:e?.radiusKm||50,location:e?.location||{lat:-33.45,lng:-70.65}}),[f,j]=(0,a.useState)(!1),[p,g]=(0,a.useState)(!1),[v,b]=(0,a.useState)(null),N=(e,s)=>{let a=parseFloat(e),r=parseFloat(s);isNaN(a)||isNaN(r)||h(e=>({...e,location:{lat:a,lng:r}}))},y=async s=>{if(s.preventDefault(),!d.name.trim())return void alert("Por favor ingresa un nombre para la zona");if(d.radiusKm<1||d.radiusKm>500)return void alert("El radio debe estar entre 1 y 500 km");try{j(!0),await r({name:d.name.trim(),location:d.location,geohash:"",radiusKm:d.radiusKm,isActive:e?.isActive??!0})}catch(e){console.error("Error submitting form:",e)}finally{j(!1)}};return(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)(o,{children:[(0,s.jsx)(c,{children:l}),(0,s.jsx)(u,{onClick:n})]}),(0,s.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,s.jsxs)(m.Card,{children:[(0,s.jsxs)(m.CardHeader,{children:[(0,s.jsx)(m.CardTitle,{className:"text-lg",children:"Informaci√≥n B√°sica"}),(0,s.jsx)(m.CardDescription,{children:"Configura el nombre y radio de la zona"})]}),(0,s.jsxs)(m.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Nombre de la zona *"}),(0,s.jsx)("input",{type:"text",value:d.name,onChange:e=>h(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Ej: Mi casa, Trabajo, Ciudad...",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Radio de alerta (km) *"}),(0,s.jsx)("input",{type:"number",min:"1",max:"500",value:d.radiusKm,onChange:e=>h(s=>({...s,radiusKm:parseInt(e.target.value)||50})),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Recibir√°s alertas cuando eventos ocurran dentro de este radio"})]})]})]}),(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.CardTitle,{className:"text-lg",children:"Ubicaci√≥n"}),(0,s.jsx)(m.CardDescription,{children:"Selecciona el centro de la zona en el mapa"})]}),(0,s.jsx)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{if(g(!0),b(null),!navigator.geolocation){b("La geolocalizaci√≥n no est√° soportada por este navegador"),g(!1);return}navigator.geolocation.getCurrentPosition(e=>{let{latitude:s,longitude:a}=e.coords;h(e=>({...e,location:{lat:s,lng:a}})),g(!1)},e=>{console.error("Error getting location:",e);let s="Error al obtener la ubicaci√≥n";switch(e.code){case e.PERMISSION_DENIED:s="Permiso de ubicaci√≥n denegado";break;case e.POSITION_UNAVAILABLE:s="Ubicaci√≥n no disponible";break;case e.TIMEOUT:s="Tiempo de espera agotado"}b(s),g(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})},disabled:p,children:p?(0,s.jsx)(x.LoadingSpinner,{}):"üìç Mi ubicaci√≥n"})]})}),(0,s.jsx)(m.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[v&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:v}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Latitud"}),(0,s.jsx)("input",{type:"number",step:"0.000001",value:d.location.lat,onChange:e=>N(e.target.value,d.location.lng.toString()),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"-33.456789"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Longitud"}),(0,s.jsx)("input",{type:"number",step:"0.000001",value:d.location.lng,onChange:e=>N(d.location.lat.toString(),e.target.value),className:"w-full px-3 py-2 border border-border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"-70.678901"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["üìç Ubicaci√≥n actual: ",d.location.lat.toFixed(6),", ",d.location.lng.toFixed(6)]}),(0,s.jsx)("div",{className:"h-64 rounded-lg overflow-hidden border",children:(0,s.jsx)(t.DisasterMap,{events:[],center:[d.location.lat,d.location.lng],zoom:12,onEventClick:()=>{},onZoneClick:()=>{}})}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:'üí° Puedes ajustar las coordenadas manualmente o usar "Mi ubicaci√≥n" para centrar el mapa en tu posici√≥n actual'})]})})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:n,className:"flex-1",children:"Cancelar"}),(0,s.jsxs)(i.Button,{type:"submit",disabled:f,className:"flex-1",children:[f?(0,s.jsx)(x.LoadingSpinner,{}):null,e?"Actualizar Zona":"Crear Zona"]})]})]})]})}var f=e.i(96640);function j({zone:e,onEdit:a,onDelete:r,onToggle:n,className:t=""}){let l;return(0,s.jsx)(m.Card,{className:`${e.isActive?"border-primary-500 bg-primary-50/50":""} ${t}`,children:(0,s.jsx)(m.CardContent,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,s.jsx)(f.Badge,{variant:e.isActive?"success":"secondary",children:e.isActive?"Activa":"Inactiva"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-muted-foreground",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"üìè Radio:"})," ",e.radiusKm," km"]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"üìÖ Creada:"})," ",(l=e.createdAt,new Intl.DateTimeFormat("es-ES",{day:"2-digit",month:"short",year:"numeric"}).format(l))]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)("span",{className:"font-medium",children:"üìç Ubicaci√≥n:"})," ",e.location.lat.toFixed(4),", ",e.location.lng.toFixed(4)]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,s.jsx)(i.Button,{size:"sm",variant:e.isActive?"plasma":"outline",onClick:n,className:"min-w-[80px]",children:e.isActive?"Desactivar":"Activar"}),(0,s.jsx)(i.Button,{size:"sm",variant:"outline",onClick:a,children:"‚úèÔ∏è Editar"}),(0,s.jsx)(i.Button,{size:"sm",variant:"outline",onClick:r,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"üóëÔ∏è Eliminar"})]})]})})})}function p({className:e=""}){let{user:t}=(0,r.useAuth)(),{zones:l,loading:o,error:c,createZone:u,updateZone:f,removeZone:p,toggleZone:g}=(0,n.useUserZones)(),[v,b]=(0,a.useState)(!1),[N,y]=(0,a.useState)(null),C=async e=>{try{await u(e),b(!1)}catch(e){console.error("Error creating zone:",e)}},E=async e=>{if(N)try{await f(N.id,e),y(null)}catch(e){console.error("Error updating zone:",e)}},S=async e=>{if(confirm("¬øEst√°s seguro de que quieres eliminar esta zona?"))try{await p(e)}catch(e){console.error("Error deleting zone:",e)}};return t?(0,s.jsxs)("div",{className:e,children:[(0,s.jsxs)(m.Card,{children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(m.CardTitle,{children:"Mis Zonas de Monitoreo"}),(0,s.jsx)(m.CardDescription,{children:"Configura las √°reas geogr√°ficas donde quieres recibir alertas"})]}),(0,s.jsx)(i.Button,{onClick:()=>b(!0),children:"‚ûï Agregar Zona"})]})}),(0,s.jsx)(m.CardContent,{children:o?(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)(x.LoadingSpinner,{text:"Cargando zonas..."})}):c?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"text-red-500 mb-2",children:"‚ö†Ô∏è Error al cargar zonas"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:c}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",className:"mt-4",onClick:()=>window.location.reload(),children:"Reintentar"})]}):0===l.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"üó∫Ô∏è"}),(0,s.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No tienes zonas configuradas"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Crea tu primera zona para empezar a recibir alertas personalizadas"}),(0,s.jsx)(i.Button,{onClick:()=>b(!0),children:"Crear Primera Zona"})]}):(0,s.jsx)("div",{className:"space-y-4",children:l.map(e=>(0,s.jsx)(j,{zone:e,onEdit:()=>y(e),onDelete:()=>S(e.id),onToggle:()=>g(e.id,!e.isActive)},e.id))})})]}),(0,s.jsx)(d,{isOpen:v,onClose:()=>b(!1),children:(0,s.jsx)(h,{onSubmit:C,onCancel:()=>b(!1),title:"Crear Nueva Zona"})}),(0,s.jsx)(d,{isOpen:!!N,onClose:()=>y(null),children:N&&(0,s.jsx)(h,{initialData:N,onSubmit:E,onCancel:()=>y(null),title:"Editar Zona"})})]}):(0,s.jsx)(m.Card,{className:e,children:(0,s.jsx)(m.CardContent,{className:"text-center py-8",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Debes iniciar sesi√≥n para gestionar tus zonas"})})})}e.s(["ZoneManager",()=>p],66579)},45123,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(54579),n=e.i(37772),t=e.i(39964),i=e.i(59544),l=e.i(96640),d=e.i(58594);function o({className:e=""}){let{user:o}=(0,r.useAuth)(),[c,u]=(0,a.useState)({}),[m,x]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(o?.uid)try{x(!0);let e={};n.DISASTER_TYPES.forEach(s=>{e[s]={disasterType:s,minSeverity:1,pushEnabled:!0,emailEnabled:!1}}),u(e)}catch(e){console.error("Error loading preferences:",e)}finally{x(!1)}})()},[o?.uid]);let j=async(e,s,a)=>{try{f(e),u(r=>({...r,[e]:{...r[e],[s]:a}})),await new Promise(e=>setTimeout(e,500))}catch(e){console.error("Error updating preference:",e)}finally{f(null)}};return o?m?(0,s.jsx)(t.Card,{className:e,children:(0,s.jsx)(t.CardContent,{className:"text-center py-8",children:(0,s.jsx)(d.LoadingSpinner,{text:"Cargando preferencias..."})})}):(0,s.jsxs)(t.Card,{className:e,children:[(0,s.jsx)(t.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(t.CardTitle,{children:"Preferencias de Alertas"}),(0,s.jsx)(t.CardDescription,{children:"Configura qu√© tipos de desastres quieres monitorear y c√≥mo recibir las alertas"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{n.DISASTER_TYPES.forEach(e=>{c[e]?.pushEnabled||j(e,"pushEnabled",!0)})},children:"Activar Todas"}),(0,s.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>{n.DISASTER_TYPES.forEach(e=>{c[e]?.pushEnabled&&j(e,"pushEnabled",!1)})},children:"Desactivar Todas"})]})]})}),(0,s.jsxs)(t.CardContent,{children:[(0,s.jsx)("div",{className:"space-y-4",children:n.DISASTER_TYPES.map(e=>{let a=n.DISASTER_CONFIGS[e],r=c[e],t=h===e;return r?(0,s.jsxs)("div",{className:"border border-border rounded-lg p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,s.jsx)("span",{className:"text-2xl",children:a.icon}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"font-semibold",children:a.nameEs}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:a.name})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Severidad m√≠n."}),(0,s.jsx)("select",{value:r.minSeverity,onChange:s=>j(e,"minSeverity",parseInt(s.target.value)),disabled:t,className:"text-sm border border-border rounded px-2 py-1 disabled:opacity-50",children:[1,2,3,4].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Push"}),(0,s.jsx)("input",{type:"checkbox",checked:r.pushEnabled,onChange:s=>j(e,"pushEnabled",!r.pushEnabled),disabled:t,className:"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-1",children:"Email"}),(0,s.jsx)("input",{type:"checkbox",checked:r.emailEnabled,onChange:s=>j(e,"emailEnabled",!r.emailEnabled),disabled:t,className:"w-4 h-4 text-primary-600 border-border rounded focus:ring-primary-500"})]}),(0,s.jsx)("div",{className:"text-right",children:t?(0,s.jsx)(d.LoadingSpinner,{}):(0,s.jsx)(l.Badge,{variant:r.pushEnabled?"success":"secondary",children:r.pushEnabled?"Activo":"Inactivo"})})]})]}),(0,s.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,s.jsx)("div",{className:"text-xs text-muted-foreground mb-2",children:"Niveles de severidad:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(a.severityLabels).map(([e,a])=>(0,s.jsx)(l.Badge,{variant:parseInt(e)>=r.minSeverity?"plasma":"secondary",className:"text-xs",children:a},e))})]})]},e):null})}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,s.jsx)("h4",{className:"font-medium mb-2",children:"üí° Consejos"}),(0,s.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,s.jsxs)("li",{children:["‚Ä¢ ",(0,s.jsx)("strong",{children:"Severidad m√≠nima:"})," Solo recibir√°s alertas para eventos de esta severidad o superior"]}),(0,s.jsxs)("li",{children:["‚Ä¢ ",(0,s.jsx)("strong",{children:"Notificaciones push:"})," Alertas en tiempo real en tu dispositivo"]}),(0,s.jsxs)("li",{children:["‚Ä¢ ",(0,s.jsx)("strong",{children:"Notificaciones email:"})," Res√∫menes diarios por correo electr√≥nico"]}),(0,s.jsx)("li",{children:"‚Ä¢ Puedes ajustar estas preferencias en cualquier momento"})]})]})]})]}):(0,s.jsx)(t.Card,{className:e,children:(0,s.jsx)(t.CardContent,{className:"text-center py-8",children:(0,s.jsx)("div",{className:"text-muted-foreground",children:"Debes iniciar sesi√≥n para gestionar tus preferencias de alertas"})})})}e.s(["AlertPreferences",()=>o])},1988,e=>{"use strict";var s=e.i(43476),a=e.i(71645),r=e.i(54579),n=e.i(39964),t=e.i(59544);e.i(36180);var i=e.i(98925),l=e.i(14985);function d(){let{user:e}=(0,r.useAuth)(),[d,o]=(0,a.useState)(!1),c=async(s,a)=>{if(e){o(!0);try{let r=(0,i.doc)(l.db,"users",e.uid);await (0,i.updateDoc)(r,{[`settings.${s}`]:a})}catch(e){console.error("Error updating setting:",e)}finally{o(!1)}}},u=e?.settings||{language:"es",darkMode:!0,soundEnabled:!0};return(0,s.jsxs)(n.Card,{children:[(0,s.jsxs)(n.CardHeader,{children:[(0,s.jsx)(n.CardTitle,{className:"flex items-center gap-2",children:"‚öôÔ∏è Configuraci√≥n General"}),(0,s.jsx)(n.CardDescription,{children:"Ajustes generales de la aplicaci√≥n"})]}),(0,s.jsx)(n.CardContent,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Idioma"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(t.Button,{variant:"es"===u.language?void 0:"outline",size:"sm",onClick:()=>c("language","es"),disabled:d,children:"Es"}),(0,s.jsx)(t.Button,{variant:"en"===u.language?void 0:"outline",size:"sm",onClick:()=>c("language","en"),disabled:d,children:"En"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Sonido"}),(0,s.jsx)(t.Button,{variant:u.soundEnabled?void 0:"outline",size:"sm",onClick:()=>c("soundEnabled",!u.soundEnabled),disabled:d,children:u.soundEnabled?"Activado":"Desactivado"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"font-medium",children:"Modo Oscuro"}),(0,s.jsx)(t.Button,{variant:u.darkMode?void 0:"outline",size:"sm",onClick:()=>c("darkMode",!u.darkMode),disabled:d,children:u.darkMode?"On":"Off"})]})]})})]})}e.s(["GeneralSettings",()=>d])},14204,e=>{"use strict";var s=e.i(43476),a=e.i(54579),r=e.i(39964),n=e.i(59544),t=e.i(71645);function i(){let e,{user:i,logout:l}=(0,a.useAuth)(),[d,o]=(0,t.useState)(!1);if(!i)return null;let c=async()=>{confirm("¬øEst√°s seguro de que quieres eliminar tu cuenta? Esta acci√≥n no se puede deshacer.")&&(o(!0),alert("Funcionalidad de eliminar cuenta pendiente de implementaci√≥n segura"),o(!1))};return(0,s.jsxs)(r.Card,{children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{className:"flex items-center gap-2",children:"üë§ Cuenta"}),(0,s.jsx)(r.CardDescription,{children:"Informaci√≥n de tu cuenta de usuario"})]}),(0,s.jsxs)(r.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Email"}),(0,s.jsx)("div",{className:"font-medium",children:i.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Nombre"}),(0,s.jsx)("div",{className:"font-medium",children:i.displayName||"No especificado"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Miembro desde"}),(0,s.jsx)("div",{className:"font-medium",children:i.createdAt?(e=i.createdAt,new Intl.DateTimeFormat("es-ES",{month:"long",year:"numeric"}).format(new Date(e))):"Desconocido"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID de Usuario"}),(0,s.jsx)("div",{className:"font-mono text-xs text-muted-foreground",children:i.uid})]})]}),(0,s.jsx)("div",{className:"border-t pt-4 space-y-2",children:(0,s.jsx)(n.Button,{variant:"outline",size:"sm",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",onClick:c,disabled:d,children:"Eliminar Cuenta"})})]})]})}e.s(["AccountSettings",()=>i])},52169,e=>{e.v(s=>Promise.all(["static/chunks/983c3130c13fb657.js","static/chunks/1442f9ddf5556540.js"].map(s=>e.l(s))).then(()=>s(94970)))},25e3,e=>{e.v(s=>Promise.all(["static/chunks/9fa7c84b99df7249.js","static/chunks/1442f9ddf5556540.js"].map(s=>e.l(s))).then(()=>s(94735)))},43144,e=>{e.v(s=>Promise.all(["static/chunks/182f490ad391f383.js"].map(s=>e.l(s))).then(()=>s(35692)))}]);