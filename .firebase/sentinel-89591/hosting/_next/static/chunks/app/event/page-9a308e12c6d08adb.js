(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[53],{3955:(e,t,r)=>{Promise.resolve().then(r.bind(r,602))},7711:(e,t,r)=>{"use strict";r.d(t,{default:()=>a.a});var s=r(1956),a=r.n(s)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},1956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let s=r(306)._(r(580));function a(e,t){var r;let a={};"function"==typeof e&&(a.loader=e);let n={...a,...t};return(0,s.default)({...n,modules:null==(r=n.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let s=r(3719);function a(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new s.BailoutToCSRError(t);return r}},580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let s=r(5155),a=r(2115),n=r(9827),l=r(9214);function o(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(o(()=>null)),loading:null,ssr:!0},d=function(e){let t={...i,...e},r=(0,a.lazy)(()=>t.loader().then(o)),d=t.loading;function c(e){let o=d?(0,s.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,c=i?a.Suspense:a.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:["undefined"==typeof window?(0,s.jsx)(l.PreloadChunks,{moduleIds:t.modules}):null,(0,s.jsx)(r,{...e})]}):(0,s.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(c,{...i?{fallback:o}:{},children:u})}return c.displayName="LoadableComponent",c}},9214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return o}});let s=r(5155),a=r(7650),n=r(5861),l=r(8284);function o(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=n.workAsyncStorage.getStore();if(void 0===r)return null;let o=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;o.push(...t)}}return 0===o.length?null:(0,s.jsx)(s.Fragment,{children:o.map(e=>{let t=r.assetPrefix+"/_next/"+(0,l.encodeURIPath)(e);return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,a.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var s=r(5155),a=r(6046),n=r(2115),l=r(7167),o=r(8173),i=r.n(o),d=r(411),c=r(2936),u=r(9735),m=r(631);let x=(0,r(7711).default)(()=>Promise.all([r.e(484),r.e(327)]).then(r.bind(r,1708)).then(e=>e.DisasterMap),{loadableGenerated:{webpack:()=>[1708]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"h-64 bg-surface animate-pulse rounded-lg"})});function h(){var e,t,r,n,l;let o=(0,a.useSearchParams)().get("id")||"",{event:h,loading:f,error:p}=(0,d._q)(o||null);return o?f?(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(m.k,{text:"Cargando evento..."})}):p?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-sakura",children:p}),(0,s.jsx)(i(),{href:"/",className:"mt-4 inline-block px-4 py-2 border border-slate rounded-lg text-muted hover:bg-surface transition-colors",children:"Volver al inicio"})]}):h?(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"bg-surface border border-slate rounded-lg p-6 space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"text-4xl",children:(null===(e=c.gw[h.disasterType])||void 0===e?void 0:e.icon)||"⚠️"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-muted",children:h.title}),(0,s.jsx)("p",{className:"text-smoke",children:h.locationName})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium",style:{backgroundColor:(0,u.XY)(h.severity)},children:(0,u.ev)(h.disasterType,h.severity)}),(0,s.jsx)("span",{className:"px-3 py-1 rounded-full bg-slate text-smoke text-sm",children:(null===(t=c.gw[h.disasterType])||void 0===t?void 0:t.nameEs)||h.disasterType})]}),h.description&&(0,s.jsx)("p",{className:"text-smoke",children:h.description}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-slate",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-smoke",children:"Fecha"}),(0,s.jsx)("p",{className:"font-medium text-muted",children:null===(r=h.eventTime)||void 0===r?void 0:r.toLocaleDateString("es-ES",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),h.magnitude&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-smoke",children:"Magnitud"}),(0,s.jsx)("p",{className:"font-medium text-muted",children:h.magnitude.toFixed(1)})]}),h.depth&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-smoke",children:"Profundidad"}),(0,s.jsxs)("p",{className:"font-medium text-muted",children:[h.depth," km"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-sm text-smoke",children:"Fuente"}),(0,s.jsx)("p",{className:"font-medium text-muted uppercase",children:h.source})]})]})]}),(0,s.jsx)("div",{className:"bg-surface border border-slate rounded-lg overflow-hidden h-80 lg:h-auto",children:(null===(n=h.location)||void 0===n?void 0:n.lat)&&(null===(l=h.location)||void 0===l?void 0:l.lng)&&(0,s.jsx)(x,{events:[h],center:[h.location.lat,h.location.lng],zoom:8})})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-smoke",children:"Evento no encontrado"}),(0,s.jsx)(i(),{href:"/",className:"mt-4 inline-block px-4 py-2 border border-slate rounded-lg text-muted hover:bg-surface transition-colors",children:"Volver al inicio"})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("p",{className:"text-smoke",children:"ID de evento no proporcionado"}),(0,s.jsx)(i(),{href:"/",className:"mt-4 inline-block px-4 py-2 border border-slate rounded-lg text-muted hover:bg-surface transition-colors",children:"Volver al inicio"})]})}function f(){return(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(l.Header,{}),(0,s.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("nav",{className:"mb-6",children:[(0,s.jsx)(i(),{href:"/",className:"text-smoke hover:text-muted transition-colors",children:"Inicio"}),(0,s.jsx)("span",{className:"mx-2 text-smoke",children:"/"}),(0,s.jsx)(i(),{href:"/",className:"text-smoke hover:text-muted transition-colors",children:"Eventos"}),(0,s.jsx)("span",{className:"mx-2 text-smoke",children:"/"}),(0,s.jsx)("span",{className:"text-muted",children:"Detalle del Evento"})]}),(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(i(),{href:"/",className:"inline-flex items-center px-4 py-2 border border-slate rounded-lg text-muted hover:bg-surface transition-colors",children:"← Volver al mapa"})}),(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,s.jsx)(m.k,{text:"Cargando..."})}),children:(0,s.jsx)(h,{})})]})]})}},2167:(e,t,r)=>{"use strict";r.d(t,{M:()=>o});var s=r(5155),a=r(2115),n=r(6046),l=r(5502);function o(){let{signIn:e,loading:t}=(0,l.As)(),r=(0,n.useRouter)(),[o,i]=(0,a.useState)(!1),d=async()=>{try{i(!0),await e(),r.push("/")}catch(e){console.error("Error during login:",e)}finally{i(!1)}},c=o||t;return(0,s.jsxs)("button",{onClick:d,disabled:c,className:"flex items-center gap-2 px-4 py-2.5 text-sm font-medium text-[#E8E8F0] hover:text-[#D4B57A] transition-colors disabled:opacity-50",children:[c?(0,s.jsx)("span",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,s.jsx)("span",{children:c?"...":"Entrar"})]})}},7167:(e,t,r)=>{"use strict";r.d(t,{Header:()=>m});var s=r(5155),a=r(2115),n=r(8173),l=r.n(n),o=r(5565),i=r(6046),d=r(5502),c=r(2167),u=r(5812);function m(){let{user:e}=(0,d.As)(),t=(0,i.usePathname)(),[r,n]=(0,a.useState)(!1),m=e=>t===e,x=[{href:"/",label:"Mapa",requiresAuth:!1},{href:"/dashboard",label:"Panel",requiresAuth:!0},{href:"/settings",label:"Config",requiresAuth:!0}].filter(t=>!t.requiresAuth||e);return(0,s.jsxs)("header",{className:"sticky top-0 z-50 w-full border-b border-[#4A5060]/30 bg-[#0D0E14]/90 backdrop-blur-md",children:[(0,s.jsxs)("div",{className:"max-w-6xl mx-auto flex h-16 items-center justify-between px-4",children:[(0,s.jsxs)(l(),{href:"/",className:"flex items-center gap-2 group",children:[(0,s.jsx)("div",{className:"relative w-9 h-9 transition-transform group-hover:scale-105",children:(0,s.jsx)(o.default,{src:"/logo.svg",alt:"Sentinel Logo",fill:!0,className:"object-contain drop-shadow-[0_0_10px_rgba(212,181,122,0.3)]"})}),(0,s.jsx)("span",{className:"font-semibold text-[#D4B57A] tracking-wider hidden sm:block",children:"SENTINEL"})]}),(0,s.jsx)("nav",{className:"hidden md:flex items-center gap-1",children:x.map(e=>(0,s.jsx)(l(),{href:e.href,className:"px-3 py-1.5 rounded-md text-sm transition-colors ".concat(m(e.href)?"bg-[#D4B57A]/10 text-[#D4B57A]":"text-[#8890A0] hover:text-[#E8E8F0] hover:bg-[#1A1B22]"),children:e.label},e.href))}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[e?(0,s.jsx)(u.B,{}):(0,s.jsx)(c.M,{}),(0,s.jsx)("button",{onClick:()=>n(!r),className:"md:hidden p-2 text-[#8890A0] hover:text-[#E8E8F0]","aria-label":"Menu",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})]}),r&&(0,s.jsx)("nav",{className:"md:hidden border-t border-[#4A5060]/30 bg-[#0D0E14] p-4 space-y-1",children:x.map(e=>(0,s.jsx)(l(),{href:e.href,onClick:()=>n(!1),className:"block px-3 py-2 rounded-md text-sm ".concat(m(e.href)?"bg-[#D4B57A]/10 text-[#D4B57A]":"text-[#8890A0] hover:text-[#E8E8F0]"),children:e.label},e.href))})]})}},631:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var s=r(5155);function a(e){let{size:t="md",className:r=""}=e;return(0,s.jsx)("div",{className:"".concat({sm:"w-4 h-4 border-2",md:"w-6 h-6 border-2",lg:"w-8 h-8 border-3"}[t]," border-[#D4B57A] border-t-transparent rounded-full animate-spin ").concat(r)})}function n(e){let{text:t}=e;return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3 py-8",children:[(0,s.jsx)(a,{size:"lg"}),t&&(0,s.jsx)("p",{className:"text-[#8890A0] text-sm",children:t})]})}},2936:(e,t,r)=>{"use strict";r.d(t,{$k:()=>s,gw:()=>a,u6:()=>n});let s={abyss:"#0D0E14",shadow:"#1A1B22",plasma:"#D4B57A",mist:"#7088A0",sakura:"#A07888",smoke:"#8890A0",muted:"#E8E8F0"},a={earthquake:{id:"earthquake",name:"Earthquake",nameEs:"Sismo",icon:"\uD83C\uDF0D",color:s.plasma,severityLabels:{1:"Menor (< 4.0)",2:"Leve (4.0 - 5.0)",3:"Moderado (5.0 - 6.0)",4:"Severo (> 6.0)"}},tsunami:{id:"tsunami",name:"Tsunami",nameEs:"Tsunami",icon:"\uD83C\uDF0A",color:s.mist,severityLabels:{1:"Vigilancia",2:"Aviso",3:"Alerta",4:"Alerta M\xe1xima"}},volcano:{id:"volcano",name:"Volcanic Eruption",nameEs:"Erupci\xf3n Volc\xe1nica",icon:"\uD83C\uDF0B",color:s.sakura,severityLabels:{1:"Verde",2:"Amarillo",3:"Naranja",4:"Rojo"}},wildfire:{id:"wildfire",name:"Wildfire",nameEs:"Incendio Forestal",icon:"\uD83D\uDD25",color:s.plasma,severityLabels:{1:"Controlado",2:"Activo",3:"Fuera de Control",4:"Catastr\xf3fico"}},flood:{id:"flood",name:"Flood",nameEs:"Inundaci\xf3n",icon:"\uD83D\uDCA7",color:s.mist,severityLabels:{1:"Menor",2:"Moderada",3:"Severa",4:"Catastr\xf3fica"}},storm:{id:"storm",name:"Storm/Hurricane",nameEs:"Tormenta/Hurac\xe1n",icon:"\uD83C\uDF00",color:s.smoke,severityLabels:{1:"Tormenta Tropical",2:"Categor\xeda 1-2",3:"Categor\xeda 3-4",4:"Categor\xeda 5"}},landslide:{id:"landslide",name:"Landslide",nameEs:"Aluvi\xf3n/Deslizamiento",icon:"⛰️",color:s.smoke,severityLabels:{1:"Menor",2:"Moderado",3:"Severo",4:"Catastr\xf3fico"}}},n=["earthquake","tsunami","volcano","wildfire","flood","storm","landslide"]},411:(e,t,r)=>{"use strict";r.d(t,{LJ:()=>n,_q:()=>l});var s=r(2115),a=r(3401);function n(){var e,t,r,n,l,o;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{disasterTypes:[],minSeverity:1},[d,c]=(0,s.useState)([]),[u,m]=(0,s.useState)(!0),[x,h]=(0,s.useState)(null);return(0,s.useEffect)(()=>(m(!0),h(null),(0,a.kQ)(i).then(c).catch(e=>{console.error("Error loading events:",e),h("Error al cargar eventos")}).finally(()=>m(!1)),(0,a.d9)(e=>{c(e),h(null)},i)),[null===(e=i.disasterTypes)||void 0===e?void 0:e.join(","),i.minSeverity,null===(t=i.dateRange)||void 0===t?void 0:t.start.getTime(),null===(r=i.dateRange)||void 0===r?void 0:r.end.getTime(),null===(n=i.nearLocation)||void 0===n?void 0:n.lat,null===(l=i.nearLocation)||void 0===l?void 0:l.lng,null===(o=i.nearLocation)||void 0===o?void 0:o.radiusKm]),{events:d,loading:u,error:x,refresh:(0,s.useCallback)(async()=>{try{m(!0),h(null);let e=await (0,a.kQ)(i);c(e)}catch(e){console.error("Error refreshing events:",e),h("Error al actualizar eventos")}finally{m(!1)}},[i])}}function l(e){let[t,r]=(0,s.useState)(null),[n,l]=(0,s.useState)(!1),[o,i]=(0,s.useState)(null);return(0,s.useEffect)(()=>{if(!e){r(null);return}(async()=>{try{l(!0),i(null);let t=await (0,a.Z8)(e);r(t)}catch(e){console.error("Error loading event:",e),i("Error al cargar evento")}finally{l(!1)}})()},[e]),{event:t,loading:n,error:o,refetch:()=>{e&&(async()=>{try{l(!0),i(null);let t=await (0,a.Z8)(e);r(t)}catch(e){console.error("Error refetching event:",e),i("Error al recargar evento")}finally{l(!1)}})()}}}},9735:(e,t,r)=>{"use strict";r.d(t,{XY:()=>a,ev:()=>n});var s=r(2936);function a(e){return({1:"#7088A0",2:"#D4B57A",3:"#A07888",4:"#E8E8F0"})[e]}function n(e,t){return s.gw[e].severityLabels[t]}}},e=>{var t=t=>e(e.s=t);e.O(0,[135,563,445,181,465,58,441,517,358],()=>t(3955)),_N_E=e.O()}]);